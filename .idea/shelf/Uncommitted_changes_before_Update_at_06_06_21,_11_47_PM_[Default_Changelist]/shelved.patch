Index: app/src/main/res/menu/bottom_bar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\">\n\n    <item\n        android:id=\"@+id/id_home\"\n        android:icon=\"@drawable/ic_baseline_home\"\n        app:exb_color=\"#FFF\"\n        android:orderInCategory=\"1\"\n        android:title=\"Home\" />\n    <item\n        android:id=\"@+id/id_category\"\n        android:icon=\"@drawable/ic_category\"\n        android:orderInCategory=\"2\"\n        app:exb_color=\"#FFF\"\n        android:title=\"Category\" />\n    <item\n        android:id=\"@+id/id_deals\"\n        android:icon=\"@drawable/ic_deal\"\n        android:orderInCategory=\"3\"\n        app:exb_color=\"#FFF\"\n        android:title=\"Deals\" />\n\n    <item\n        android:id=\"@+id/id_bookmark\"\n        android:icon=\"@drawable/ic_bookmark_border\"\n        android:orderInCategory=\"4\"\n        app:exb_color=\"#FFF\"\n        android:title=\"Bookmark\"/>\n\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/menu/bottom_bar.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/menu/bottom_bar.xml	(date 1622998969821)
@@ -6,25 +6,29 @@
         android:id="@+id/id_home"
         android:icon="@drawable/ic_baseline_home"
         app:exb_color="#FFF"
+        android:iconTint="@color/black_50"
         android:orderInCategory="1"
         android:title="Home" />
     <item
         android:id="@+id/id_category"
         android:icon="@drawable/ic_category"
         android:orderInCategory="2"
+        android:iconTint="@color/black_50"
         app:exb_color="#FFF"
         android:title="Category" />
     <item
         android:id="@+id/id_deals"
         android:icon="@drawable/ic_deal"
         android:orderInCategory="3"
+        android:iconTint="@color/black_50"
         app:exb_color="#FFF"
         android:title="Deals" />
 
     <item
         android:id="@+id/id_bookmark"
-        android:icon="@drawable/ic_bookmark_border"
+        android:icon="@drawable/ic_baseline_bookmarks"
         android:orderInCategory="4"
+        android:iconTint="@color/black_50"
         app:exb_color="#FFF"
         android:title="Bookmark"/>
 
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".view.MainActivity\">\n\n    <RelativeLayout\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:background=\"@color/colorPrimary\">\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:layout_centerInParent=\"true\"\n            android:text=\"@string/app_name\"\n            android:textColor=\"@color/white\"\n            android:textSize=\"18sp\"\n            android:textStyle=\"bold\" />\n\n        <ImageView\n            android:id=\"@+id/search\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:layout_marginStart=\"10dp\"\n            android:layout_marginEnd=\"5dp\"\n            android:background=\"@drawable/ic_search\"\n            android:backgroundTint=\"@color/white\"\n            android:clickable=\"true\"\n            android:focusable=\"true\" />\n\n        <ImageView\n            android:id=\"@+id/ivMenu\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:padding=\"10dp\"\n            android:src=\"@drawable/ic_add\"\n            app:tint=\"@color/white\" />\n\n\n    </RelativeLayout>\n\n\n\n    <com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/view_pager_tab\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"2\"\n        android:elevation=\"10dp\"\n        android:theme=\"@style/TabLayout_Theme\"\n        android:visibility=\"gone\"\n        app:tabBackground=\"@color/white\"\n        app:tabGravity=\"fill\"\n        app:tabIndicatorColor=\"@color/colorPrimary\"\n        app:tabMode=\"fixed\"\n        app:tabRippleColor=\"@color/colorPrimary\"\n        app:tabSelectedTextColor=\"@color/colorPrimary\"\n        app:tabTextAppearance=\"@style/tab_text\" />\n\n\n    <shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.CustomViewPager\n        android:id=\"@+id/vpPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/toolbar\">\n\n    </shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.CustomViewPager>\n\n    <github.com.st235.lib_expandablebottombar.ExpandableBottomBar\n        android:id=\"@+id/expandable_bottom_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_margin=\"20dp\"\n        app:exb_backgroundColor=\"@color/colorPrimary\"\n        app:exb_backgroundCornerRadius=\"30dp\"\n        app:exb_itemInactiveColor=\"#050505\"\n        app:exb_item_vertical_margin=\"8dp\"\n        app:exb_items=\"@menu/bottom_bar\" />\n\n\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/activity_main.xml	(date 1622999275986)
@@ -81,7 +81,9 @@
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
-        android:layout_margin="20dp"
+        android:layout_marginStart="20dp"
+        android:layout_marginEnd="20dp"
+        android:layout_marginBottom="20dp"
         app:exb_backgroundColor="@color/colorPrimary"
         app:exb_backgroundCornerRadius="30dp"
         app:exb_itemInactiveColor="#050505"
Index: app/src/main/res/drawable/ic_baseline_bookmark_fill.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportWidth=\"24\"\n    android:viewportHeight=\"24\"\n    android:tint=\"?attr/colorControlNormal\">\n  <path\n      android:fillColor=\"@android:color/white\"\n      android:pathData=\"M17,3H7c-1.1,0 -1.99,0.9 -1.99,2L5,21l7,-3 7,3V5c0,-1.1 -0.9,-2 -2,-2z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_baseline_bookmark_fill.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/ic_baseline_bookmark_fill.xml	(date 1622998625170)
@@ -3,7 +3,7 @@
     android:height="24dp"
     android:viewportWidth="24"
     android:viewportHeight="24"
-    android:tint="?attr/colorControlNormal">
+    android:tint="@color/black_75">
   <path
       android:fillColor="@android:color/white"
       android:pathData="M17,3H7c-1.1,0 -1.99,0.9 -1.99,2L5,21l7,-3 7,3V5c0,-1.1 -0.9,-2 -2,-2z"/>
Index: app/src/main/res/drawable/ic_baseline_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportWidth=\"24\"\n    android:viewportHeight=\"24\"\n    android:tint=\"?attr/colorControlNormal\">\n  <path\n      android:fillColor=\"@color/black_50\"\n      android:pathData=\"M10,20v-6h4v6h5v-8h3L12,3 2,12h3v8z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_baseline_home.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/ic_baseline_home.xml	(date 1622998837452)
@@ -2,9 +2,8 @@
     android:width="24dp"
     android:height="24dp"
     android:viewportWidth="24"
-    android:viewportHeight="24"
-    android:tint="?attr/colorControlNormal">
+    android:viewportHeight="24">
   <path
-      android:fillColor="@color/black_50"
+      android:fillColor="@color/black_75"
       android:pathData="M10,20v-6h4v6h5v-8h3L12,3 2,12h3v8z"/>
 </vector>
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/SplashActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view\n\nimport android.os.Build\nimport android.os.Bundle\nimport android.os.Handler\nimport android.view.WindowManager\nimport androidx.appcompat.app.AppCompatActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.base.BaseActivity\n\nclass SplashActivity : BaseActivity() {\n    override val bindingVariable: Int\n        get() = 0\n    override val layoutId: Int\n        get() = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)\n\n        if (Build.VERSION.SDK_INT >= 21) {\n            val window = this.window\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n            window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\n            window.statusBarColor = this.resources.getColor(R.color.white)\n        }\n\n\n        Handler().postDelayed({ //                if(Pref.getInstance().getViewPager()){\n            //                    openActivity(null, IntroSlider.class);\n            //                }\n            //                else {\n            //                    openActivity(null, MainActivity.class);\n            //                    finish();\n            //                }\n            openActivity(null, MainActivity::class.java)\n            finish()\n        }, 3000)\n\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/SplashActivity.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/SplashActivity.kt	(date 1622998837468)
@@ -35,7 +35,7 @@
             //                }
             openActivity(null, MainActivity::class.java)
             finish()
-        }, 3000)
+        }, 2000)
 
 
     }
Index: app/src/main/res/drawable/ic_deal.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportWidth=\"24\"\n    android:viewportHeight=\"24\"\n    android:tint=\"?attr/colorControlNormal\">\n  <path\n      android:fillColor=\"@color/black_50\"\n      android:pathData=\"M20,12c0,-1.1 0.9,-2 2,-2L22,6c0,-1.1 -0.9,-2 -2,-2L4,4c-1.1,0 -1.99,0.9 -1.99,2v4c1.1,0 1.99,0.9 1.99,2s-0.89,2 -2,2v4c0,1.1 0.9,2 2,2h16c1.1,0 2,-0.9 2,-2v-4c-1.1,0 -2,-0.9 -2,-2zM15.58,16.8L12,14.5l-3.58,2.3 1.08,-4.12 -3.29,-2.69 4.24,-0.25L12,5.8l1.54,3.95 4.24,0.25 -3.29,2.69 1.09,4.11z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_deal.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/ic_deal.xml	(date 1622998837446)
@@ -2,9 +2,8 @@
     android:width="24dp"
     android:height="24dp"
     android:viewportWidth="24"
-    android:viewportHeight="24"
-    android:tint="?attr/colorControlNormal">
+    android:viewportHeight="24">
   <path
-      android:fillColor="@color/black_50"
+      android:fillColor="@color/black_75"
       android:pathData="M20,12c0,-1.1 0.9,-2 2,-2L22,6c0,-1.1 -0.9,-2 -2,-2L4,4c-1.1,0 -1.99,0.9 -1.99,2v4c1.1,0 1.99,0.9 1.99,2s-0.89,2 -2,2v4c0,1.1 0.9,2 2,2h16c1.1,0 2,-0.9 2,-2v-4c-1.1,0 -2,-0.9 -2,-2zM15.58,16.8L12,14.5l-3.58,2.3 1.08,-4.12 -3.29,-2.69 4.24,-0.25L12,5.8l1.54,3.95 4.24,0.25 -3.29,2.69 1.09,4.11z"/>
 </vector>
Index: app/src/main/res/drawable/ic_bookmark_border.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:width=\"24dp\"\n        android:height=\"24dp\"\n        android:viewportWidth=\"24.0\"\n        android:viewportHeight=\"24.0\">\n    <path\n        android:fillColor=\"@color/black_50\"\n        android:pathData=\"M17,3L7,3c-1.1,0 -1.99,0.9 -1.99,2L5,21l7,-3 7,3L19,5c0,-1.1 -0.9,-2 -2,-2zM17,18l-5,-2.18L7,18L7,5h10v13z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_bookmark_border.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/ic_bookmark_border.xml	(date 1622998514239)
@@ -4,6 +4,6 @@
         android:viewportWidth="24.0"
         android:viewportHeight="24.0">
     <path
-        android:fillColor="@color/black_50"
+        android:fillColor="@color/black_75"
         android:pathData="M17,3L7,3c-1.1,0 -1.99,0.9 -1.99,2L5,21l7,-3 7,3L19,5c0,-1.1 -0.9,-2 -2,-2zM17,18l-5,-2.18L7,18L7,5h10v13z"/>
 </vector>
Index: app/src/main/res/drawable/ic_category.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportWidth=\"24\"\n    android:viewportHeight=\"24\"\n    android:tint=\"?attr/colorControlNormal\"\n    android:autoMirrored=\"true\">\n  <path\n      android:fillColor=\"@color/black_50\"\n      android:pathData=\"M4,10.5c-0.83,0 -1.5,0.67 -1.5,1.5s0.67,1.5 1.5,1.5 1.5,-0.67 1.5,-1.5 -0.67,-1.5 -1.5,-1.5zM4,4.5c-0.83,0 -1.5,0.67 -1.5,1.5S3.17,7.5 4,7.5 5.5,6.83 5.5,6 4.83,4.5 4,4.5zM4,16.5c-0.83,0 -1.5,0.68 -1.5,1.5s0.68,1.5 1.5,1.5 1.5,-0.68 1.5,-1.5 -0.67,-1.5 -1.5,-1.5zM7,19h14v-2L7,17v2zM7,13h14v-2L7,11v2zM7,5v2h14L21,5L7,5z\"/>\n</vector>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_category.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/ic_category.xml	(date 1622998813841)
@@ -3,9 +3,8 @@
     android:height="24dp"
     android:viewportWidth="24"
     android:viewportHeight="24"
-    android:tint="?attr/colorControlNormal"
     android:autoMirrored="true">
   <path
-      android:fillColor="@color/black_50"
+      android:fillColor="@color/black_75"
       android:pathData="M4,10.5c-0.83,0 -1.5,0.67 -1.5,1.5s0.67,1.5 1.5,1.5 1.5,-0.67 1.5,-1.5 -0.67,-1.5 -1.5,-1.5zM4,4.5c-0.83,0 -1.5,0.67 -1.5,1.5S3.17,7.5 4,7.5 5.5,6.83 5.5,6 4.83,4.5 4,4.5zM4,16.5c-0.83,0 -1.5,0.68 -1.5,1.5s0.68,1.5 1.5,1.5 1.5,-0.68 1.5,-1.5 -0.67,-1.5 -1.5,-1.5zM7,19h14v-2L7,17v2zM7,13h14v-2L7,11v2zM7,5v2h14L21,5L7,5z"/>
 </vector>
Index: app/src/main/res/layout/fragment_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white_25\"\n    tools:context=\".view.fragment.FragmentHome\">\n\n    <!-- TODO: Update blank fragment layout -->\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n\n        <com.synnapps.carouselview.CarouselView\n            android:id=\"@+id/cvHome\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"180dp\"\n            app:fillColor=\"@color/colorAccent\"\n            app:pageColor=\"#00000000\"\n            app:radius=\"4dp\"\n            app:slideInterval=\"3000\"\n            app:strokeColor=\"#FF777777\"\n            app:indicatorGravity=\"right|bottom\"\n            app:strokeWidth=\"1dp\"/>\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\">\n\n            <com.facebook.ads.NativeAdLayout\n                android:id=\"@+id/native_ad_container_home_1\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:layout_marginTop=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                />\n\n        </LinearLayout>\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/white\"\n            android:orientation=\"vertical\"\n            android:padding=\"10dp\">\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\">\n\n                <ImageView\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:src=\"@drawable/ic_grid\"\n                    app:tint=\"@color/colorPrimary\" />\n\n                <TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/top_trending\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:layout_marginStart=\"10dp\"\n                    android:textSize=\"16sp\"\n                    android:textColor=\"@color/black_75\"\n                    android:fontFamily=\"@font/montserrat_semibold\" />\n\n            </LinearLayout>\n\n            <androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/rvTrending\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:padding=\"10dp\"\n                android:layout_marginTop=\"5dp\"/>\n\n        </LinearLayout>\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\">\n\n            <FrameLayout\n                android:id=\"@+id/ad_frame_2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"12dp\"\n                android:layout_marginBottom=\"12dp\"/>\n\n        </LinearLayout>\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/white\"\n            android:padding=\"10dp\"\n            android:orientation=\"vertical\">\n\n            <RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <ImageView\n                    android:id=\"@+id/grid\"\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:src=\"@drawable/ic_grid\"\n                    app:tint=\"@color/colorPrimary\" />\n\n                <TextView\n                    android:id=\"@+id/textapps\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/all_apps\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:layout_marginStart=\"10dp\"\n                    android:textSize=\"16sp\"\n                    android:layout_toRightOf=\"@+id/grid\"\n                    android:layout_centerVertical=\"true\"\n                    android:textColor=\"@color/black_75\"\n                    android:fontFamily=\"@font/montserrat_semibold\" />\n\n\n            </RelativeLayout>\n\n\n            <androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/rvAllApps\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:padding=\"10dp\"\n                android:layout_marginTop=\"5dp\"/>\n\n        </LinearLayout>\n    </LinearLayout>\n\n</androidx.core.widget.NestedScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_home.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/fragment_home.xml	(date 1622985921259)
@@ -18,7 +18,7 @@
         <com.synnapps.carouselview.CarouselView
             android:id="@+id/cvHome"
             android:layout_width="match_parent"
-            android:layout_height="180dp"
+            android:layout_height="160dp"
             app:fillColor="@color/colorAccent"
             app:pageColor="#00000000"
             app:radius="4dp"
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/BookmarkFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view.fragment\n\nimport android.content.Context\nimport android.content.Intent\nimport android.content.SharedPreferences\nimport android.os.Build\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.view.ViewTreeObserver\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\nimport kotlinx.android.synthetic.main.fragment_bookmark.*\nimport me.toptas.fancyshowcase.FancyShowCaseView\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.model.bookmark.Bookmarks\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Pref\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener.OnRowClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener.OnSwipeOptionsClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.WebActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.BookmarkAdapter\n\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n * Use the [BookmarkFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass BookmarkFragment : Fragment() {\n    // TODO: Rename and change types of parameters\n    private var param1: Int? = null\n    private var param2: String? = null\n\n\n    lateinit var b_recycler: RecyclerView\n    lateinit var b_adapter: BookmarkAdapter\n    var bookmarkList: ArrayList<Bookmarks> = ArrayList()\n\n    private var sharedPreferences: SharedPreferences? = null\n    private var editor: SharedPreferences.Editor? = null\n\n    val STORE_FILE_NAME = \"Bookmarks_data\"\n\n    private var touchListener: RecyclerTouchListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getInt(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun setUserVisibleHint(isVisibleToUser: Boolean) {\n        super.setUserVisibleHint(isVisibleToUser)\n        if (isVisibleToUser) {\n            onRefreshFragment()\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_bookmark, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n\n\n\n        sharedPreferences =\n            requireActivity().getSharedPreferences(\n                STORE_FILE_NAME,\n                Context.MODE_PRIVATE\n            )\n        editor = sharedPreferences!!.edit()\n\n        Pref.initializeInstance(this.context)\n        Log.d(\"Share\", Pref.instance!!.bookmarksData.toString())\n\n\n//        adapter.setClickListener(View.OnClickListener { v ->\n//            focus(v)\n//        })\n\n\n        b_recycler = view.findViewById(R.id.bookmark_rec)\n\n        b_adapter = BookmarkAdapter(this.requireContext(), bookmarkList, this)\n\n        b_recycler.layoutManager = LinearLayoutManager(this.context, RecyclerView.VERTICAL, false)\n        b_recycler.adapter = b_adapter\n\n\n        touchListener = RecyclerTouchListener(requireActivity(), b_recycler)\n        touchListener!!\n            .setClickable(object : OnRowClickListener {\n                override fun onRowClicked(position: Int) {\n                    val bookmarkData: Bookmarks = bookmarkList[position]\n                    val bundle = Bundle()\n                    val intent: Intent = Intent(activity, WebActivity::class.java)\n                    intent.putExtra(\"title\", bookmarkData!!.bookmarkTitle)\n                    intent.putExtra(\"url\", bookmarkData.bookmarkUrl)\n                    intent.putExtra(\"app_icon\", bookmarkData.bookmarkLogo)\n                    intent.putExtra(\"color\", bookmarkData.webSplash)\n\n                    startActivity(intent)\n\n//                    Toast.makeText(\n//                        context,\n//                        bookmarkList[position].bookmarkTitle,\n//                        Toast.LENGTH_SHORT\n//                    ).show()\n                }\n\n                override fun onIndependentViewClicked(independentViewID: Int, position: Int) {}\n            })\n            .setSwipeOptionViews(R.id.delete_task, R.id.edit_task)\n            .setSwipeable(R.id.rowFG, R.id.rowBG, object : OnSwipeOptionsClickListener {\n                override fun onSwipeOptionClicked(viewID: Int, position: Int) {\n                    when (viewID) {\n                        R.id.delete_task -> {\n                            bookmarkList.removeAt(position)\n                            b_adapter.setList(bookmarkList)\n                        }\n                        R.id.edit_task -> Toast.makeText(\n                            context,\n                            \"Share\",\n                            Toast.LENGTH_SHORT\n                        ).show()\n                    }\n                }\n            })\n        b_recycler.addOnItemTouchListener(touchListener!!)\n\n\n        getBookmarks(view)\n\n    }\n\n    fun fancyShowCase(it: View, title: String) {\n        Log.d(\"Fancy\", \"Run\")\n        return FancyShowCaseView.Builder(this.requireActivity()).focusOn(it).title(title).delay(50)\n            .titleSize(14, 2)\n            .showOnce(title)\n            .build()\n            .show()\n    }\n\n    private fun getBookmarks(view: View) {\n        if (bookmarkList.isNotEmpty()) {\n            Log.d(\"TAG\", \"getBookmarks: list clear\")\n            bookmarkList.clear()\n        }\n        if (sharedPreferences!!.getString(\"Bookmarks\", null) != null) {\n            val serializedObject: String =\n                sharedPreferences!!.getString(\n                    \"Bookmarks\",\n                    null\n                )!!\n            if (serializedObject != null) {\n                val gson = Gson()\n                val type = object : TypeToken<ArrayList<Bookmarks?>?>() {}.type\n                bookmarkList = gson.fromJson(serializedObject, type)\n                if (bookmarkList != null) {\n                    Log.d(\"TAG\", \"getBookmarks: \" + bookmarkList.size)\n                }\n                if (bookmarkList.isEmpty()) {\n                    onSetEmptyLayout()\n                } else {\n                    bookmark_rec.visibility = View.VISIBLE\n                    emptyLayout.visibility = View.GONE\n                    b_adapter.setList(bookmarkList)\n                    b_adapter.notifyDataSetChanged()\n                }\n            } else {\n                onSetEmptyLayout()\n            }\n\n        } else {\n            onSetEmptyLayout()\n        }\n    }\n\n    private fun onSetEmptyLayout() {\n        bookmark_rec.visibility = View.GONE\n        emptyLayout.visibility = View.VISIBLE\n    }\n\n    private fun onRefreshFragment() {\n        Log.d(\"TAG\", \"onRefreshFragment: \")\n        getBookmarks(requireView())\n    }\n\n    override fun onResume() {\n        super.onResume()\n        b_recycler.addOnItemTouchListener(touchListener!!);\n    }\n\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment BookmarkFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: Int, param2: String) =\n            BookmarkFragment().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/BookmarkFragment.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/BookmarkFragment.kt	(date 1622998359625)
@@ -3,13 +3,11 @@
 import android.content.Context
 import android.content.Intent
 import android.content.SharedPreferences
-import android.os.Build
 import android.os.Bundle
 import android.util.Log
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
-import android.view.ViewTreeObserver
 import android.widget.Toast
 import androidx.fragment.app.Fragment
 import androidx.recyclerview.widget.LinearLayoutManager
@@ -17,10 +15,10 @@
 import com.google.gson.Gson
 import com.google.gson.reflect.TypeToken
 import kotlinx.android.synthetic.main.fragment_bookmark.*
-import me.toptas.fancyshowcase.FancyShowCaseView
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.R
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.model.bookmark.Bookmarks
-import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Pref
+import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants
+import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Helper
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener.OnRowClickListener
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.RecyclerTouchListener.OnSwipeOptionsClickListener
@@ -51,8 +49,6 @@
     private var sharedPreferences: SharedPreferences? = null
     private var editor: SharedPreferences.Editor? = null
 
-    val STORE_FILE_NAME = "Bookmarks_data"
-
     private var touchListener: RecyclerTouchListener? = null
 
     override fun onCreate(savedInstanceState: Bundle?) {
@@ -86,15 +82,11 @@
 
         sharedPreferences =
             requireActivity().getSharedPreferences(
-                STORE_FILE_NAME,
+                Constants().BOOKMARKS_DATA,
                 Context.MODE_PRIVATE
             )
         editor = sharedPreferences!!.edit()
 
-        Pref.initializeInstance(this.context)
-        Log.d("Share", Pref.instance!!.bookmarksData.toString())
-
-
 //        adapter.setClickListener(View.OnClickListener { v ->
 //            focus(v)
 //        })
@@ -113,9 +105,8 @@
             .setClickable(object : OnRowClickListener {
                 override fun onRowClicked(position: Int) {
                     val bookmarkData: Bookmarks = bookmarkList[position]
-                    val bundle = Bundle()
-                    val intent: Intent = Intent(activity, WebActivity::class.java)
-                    intent.putExtra("title", bookmarkData!!.bookmarkTitle)
+                    val intent = Intent(activity, WebActivity::class.java)
+                    intent.putExtra("title", bookmarkData.bookmarkTitle)
                     intent.putExtra("url", bookmarkData.bookmarkUrl)
                     intent.putExtra("app_icon", bookmarkData.bookmarkLogo)
                     intent.putExtra("color", bookmarkData.webSplash)
@@ -136,8 +127,16 @@
                 override fun onSwipeOptionClicked(viewID: Int, position: Int) {
                     when (viewID) {
                         R.id.delete_task -> {
+                            Log.d("TAG", "onSwipeOptionClicked: delete"+position)
                             bookmarkList.removeAt(position)
                             b_adapter.setList(bookmarkList)
+                            b_adapter.notifyItemRemoved(position)
+                            b_adapter.notifyDataSetChanged()
+                            Helper().makeToast("Item removed from wishlist", context!!)
+                            if (bookmarkList.isEmpty()) {
+                                onSetEmptyLayout()
+                            }
+                            setBookmarks()
                         }
                         R.id.edit_task -> Toast.makeText(
                             context,
@@ -150,20 +149,11 @@
         b_recycler.addOnItemTouchListener(touchListener!!)
 
 
-        getBookmarks(view)
-
-    }
+        getBookmarks()
 
-    fun fancyShowCase(it: View, title: String) {
-        Log.d("Fancy", "Run")
-        return FancyShowCaseView.Builder(this.requireActivity()).focusOn(it).title(title).delay(50)
-            .titleSize(14, 2)
-            .showOnce(title)
-            .build()
-            .show()
     }
 
-    private fun getBookmarks(view: View) {
+    private fun getBookmarks() {
         if (bookmarkList.isNotEmpty()) {
             Log.d("TAG", "getBookmarks: list clear")
             bookmarkList.clear()
@@ -174,23 +164,17 @@
                     "Bookmarks",
                     null
                 )!!
-            if (serializedObject != null) {
-                val gson = Gson()
-                val type = object : TypeToken<ArrayList<Bookmarks?>?>() {}.type
-                bookmarkList = gson.fromJson(serializedObject, type)
-                if (bookmarkList != null) {
-                    Log.d("TAG", "getBookmarks: " + bookmarkList.size)
-                }
-                if (bookmarkList.isEmpty()) {
-                    onSetEmptyLayout()
-                } else {
-                    bookmark_rec.visibility = View.VISIBLE
-                    emptyLayout.visibility = View.GONE
-                    b_adapter.setList(bookmarkList)
-                    b_adapter.notifyDataSetChanged()
-                }
-            } else {
-                onSetEmptyLayout()
+            val gson = Gson()
+            val type = object : TypeToken<ArrayList<Bookmarks?>?>() {}.type
+            bookmarkList = gson.fromJson(serializedObject, type)
+            Log.d("TAG", "getBookmarks: " + bookmarkList.size)
+            if (bookmarkList.isEmpty()) {
+                onSetEmptyLayout()
+            } else {
+                bookmark_rec.visibility = View.VISIBLE
+                emptyLayout.visibility = View.GONE
+                b_adapter.setList(bookmarkList)
+                b_adapter.notifyDataSetChanged()
             }
 
         } else {
@@ -198,6 +182,10 @@
         }
     }
 
+    private fun setBookmarks() {
+        editor!!.putString("Bookmarks", Gson().toJson(bookmarkList)).apply()
+    }
+
     private fun onSetEmptyLayout() {
         bookmark_rec.visibility = View.GONE
         emptyLayout.visibility = View.VISIBLE
@@ -205,12 +193,12 @@
 
     private fun onRefreshFragment() {
         Log.d("TAG", "onRefreshFragment: ")
-        getBookmarks(requireView())
+        getBookmarks()
     }
 
     override fun onResume() {
         super.onResume()
-        b_recycler.addOnItemTouchListener(touchListener!!);
+        b_recycler.addOnItemTouchListener(touchListener!!)
     }
 
 
Index: app/src/main/res/layout/fragment_bookmark.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".view.fragment.BookmarkFragment\"\n    android:background=\"@color/light_grey\">\n\n    <ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"250dp\"\n        android:scaleType=\"fitXY\"\n        android:src=\"@drawable/bookmark_bg\" />\n\n    <TextView\n        android:id=\"@+id/text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"14dp\"\n        android:fontFamily=\"@font/montserrat_semibold\"\n        android:text=\"My Wishlist\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"24sp\" />\n\n\n    <androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/bookmark_rec\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_below=\"@id/text\"\n        android:layout_marginTop=\"20dp\"\n        tools:listitem=\"@layout/bookmark_layout\"/>\n\n    <include\n        android:id=\"@+id/emptyLayout\"\n        layout=\"@layout/empty_bookmarks_layout\"\n        android:visibility=\"gone\" />\n\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_bookmark.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/fragment_bookmark.xml	(date 1622995099485)
@@ -22,14 +22,27 @@
         android:fontFamily="@font/montserrat_semibold"
         android:text="My Wishlist"
         android:textColor="@color/white"
-        android:textSize="24sp" />
+        android:textSize="20sp" />
+
+    <TextView
+        android:id="@+id/tvDesc"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerHorizontal="true"
+        android:layout_marginTop="10dp"
+        android:layout_below="@id/text"
+        android:fontFamily="@font/montserrat_semibold"
+        android:text="Do swipe left the bookmark\nto explore more options"
+        android:textAlignment="center"
+        android:textColor="@color/white"
+        android:textSize="14sp" />
 
 
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/bookmark_rec"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        android:layout_below="@id/text"
+        android:layout_below="@id/tvDesc"
         android:layout_marginTop="20dp"
         tools:listitem="@layout/bookmark_layout"/>
 
Index: app/src/main/res/layout/dialog_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"20dp\">\n\n\n    <androidx.cardview.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"40dp\"\n        android:layout_marginTop=\"10dp\"\n        android:background=\"@color/white\"\n        app:cardCornerRadius=\"30sp\">\n\n        <SearchView\n            android:id=\"@+id/app_search\"\n            android:drawableStart=\"@drawable/ic_search\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:queryHint=\"Search Here !\"\n            app:iconifiedByDefault=\"false\"\n            android:background=\"@color/colorAccent\" />\n\n\n    </androidx.cardview.widget.CardView>\n\n    <androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/search_rvCategoryStores\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"452dp\"\n        android:layout_marginTop=\"20dp\" />\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\">\n\n        <com.facebook.ads.NativeAdLayout\n            android:id=\"@+id/search_native_ad_container_dailog\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"12dp\"\n            android:layout_marginBottom=\"12dp\"\n            android:orientation=\"vertical\" />\n\n    </LinearLayout>\n\n\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/dialog_search.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/dialog_search.xml	(date 1622985932800)
@@ -14,14 +14,14 @@
         android:background="@color/white"
         app:cardCornerRadius="30sp">
 
-        <SearchView
+        <EditText
             android:id="@+id/app_search"
             android:drawableStart="@drawable/ic_search"
+            android:paddingHorizontal="10dp"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
-            app:queryHint="Search Here !"
-            app:iconifiedByDefault="false"
-            android:background="@color/colorAccent" />
+            android:background="@color/colorAccent"
+            android:drawableLeft="@drawable/ic_search" />
 
 
     </androidx.cardview.widget.CardView>
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/utils/Constants.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.utils\n\nimport com.firebase.ui.common.BuildConfig\n\n//import shopping.grocery.medicine.online.deals.coupons.compare.buy.BuildConfig\n\n\nclass Constants {\n\n\n\n    val SHOW_ADS = \"show_ads\"\n    val DATA_CHANGED_DATE = \"data_changed\"\n    val OPEN_BROWSER = \"open_browser\"\n    val DEALS_URL = \"deals_url\"\n\n    val ALL_APPS_STORAGE_FILE_NAME = \"all_apps_storage.json\"\n    val CAROUSEL_VIEW_STORAGE_FILE_NAME = \"carousel_view_storage.json\"\n    val TRENDING_STORAGE_FILE_NAME = \"trending_storage.json\"\n\n    val FB_ADS_TEST = \"VID_HD_9_16_39S_APP_INSTALL#YOUR_PLACEMENT_ID\"\n    val FB_BANNER_TEST = \"IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID\"\n    val FB_NATIVE_HOME_1 = \"722413805027589_755158915086411\"\n    val FB_NATIVE_HOME_2 = \"722413805027589_755162745086028\"\n    val FB_NATIVE_CAT_1 = \"722413805027589_755163058419330\"\n    val FB_NATIVE_CAT_2 = \"722413805027589_755163241752645\"\n    val FB_NATIVE_DAILOG = \"722413805027589_841024753166493\"\n    val FB_BANNER_WEB = \"722413805027589_755223338413302\"\n    val FB_INTERSTITIAL_WEB_EXIT = \"722413805027589_755222675080035\"\n\n    fun getFbNativeHome1(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_NATIVE_HOME_1\n    }\n\n    fun getFbNativeHome2(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_NATIVE_HOME_2\n    }\n\n    fun getFbNativeCat1(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_NATIVE_CAT_1\n    }\n\n    fun getFbNativeCat2(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_NATIVE_CAT_2\n    }\n\n    fun getFbNativeDailog(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_NATIVE_DAILOG\n    }\n\n\n    fun getFbBannerWeb(): String {\n        return if (BuildConfig.DEBUG)\n            FB_BANNER_TEST\n        else\n            FB_BANNER_WEB\n    }\n\n    fun getFbInterstitialWebExit(): String {\n        return if (BuildConfig.DEBUG)\n            FB_ADS_TEST\n        else\n            FB_INTERSTITIAL_WEB_EXIT\n    }\n\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/utils/Constants.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/utils/Constants.kt	(date 1622996466404)
@@ -17,6 +17,7 @@
     val ALL_APPS_STORAGE_FILE_NAME = "all_apps_storage.json"
     val CAROUSEL_VIEW_STORAGE_FILE_NAME = "carousel_view_storage.json"
     val TRENDING_STORAGE_FILE_NAME = "trending_storage.json"
+    val BOOKMARKS_DATA = "bookmarks_data_file"
 
     val FB_ADS_TEST = "VID_HD_9_16_39S_APP_INSTALL#YOUR_PLACEMENT_ID"
     val FB_BANNER_TEST = "IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID"
Index: app/src/main/res/layout/bookmark_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.cardview.widget.CardView\n    android:id=\"@id/card\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"70dp\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_margin=\"15dp\"\n    app:cardCornerRadius=\"12dp\"\n    app:cardElevation=\"10dp\">\n\n\n    <LinearLayout\n        android:id=\"@+id/rowBG\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"end\"\n        android:padding=\"10dp\"\n        android:background=\"#d65819\"\n        android:orientation=\"horizontal\">\n\n        <RelativeLayout\n            android:id=\"@+id/edit_task\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"match_parent\"\n            android:clickable=\"true\"\n            android:focusable=\"true\"\n            android:orientation=\"vertical\">\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_centerInParent=\"true\"\n                android:gravity=\"center\"\n                android:orientation=\"vertical\">\n\n                <ImageView\n                    android:id=\"@+id/img_edit\"\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:layout_gravity=\"center\"\n                    android:src=\"@drawable/ic_share\"\n                    app:tint=\"@android:color/white\" />\n            </LinearLayout>\n        </RelativeLayout>\n\n        <RelativeLayout\n            android:id=\"@+id/delete_task\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"match_parent\"\n            android:clickable=\"true\"\n            android:focusable=\"true\"\n            android:orientation=\"vertical\">\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_centerInParent=\"true\"\n                android:gravity=\"center\"\n                android:orientation=\"vertical\">\n\n                <ImageView\n                    android:id=\"@+id/img_delete\"\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:layout_gravity=\"center\"\n                    android:src=\"@drawable/ic_baseline_delete_forever\"\n                    app:tint=\"@android:color/white\" />\n            </LinearLayout>\n        </RelativeLayout>\n\n    </LinearLayout>\n\n\n    <RelativeLayout\n        android:id=\"@+id/rowFG\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/white\"\n        android:focusable=\"true\">\n\n        <androidx.cardview.widget.CardView\n            android:id=\"@+id/card\"\n            android:layout_width=\"50dp\"\n            android:layout_height=\"50dp\"\n            android:layout_margin=\"10dp\"\n            app:cardCornerRadius=\"8dp\">\n\n            <ImageView\n                android:id=\"@+id/bkmark_image\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:scaleType=\"fitXY\"\n                android:src=\"@drawable/app_logo\" />\n\n        </androidx.cardview.widget.CardView>\n\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:layout_toRightOf=\"@id/card\"\n            android:gravity=\"center_vertical\"\n            android:layout_marginStart=\"2dp\"\n            android:layout_marginEnd=\"10dp\">\n\n            <TextView\n                android:id=\"@+id/bkmark_title\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center_vertical\"\n                android:fontFamily=\"@font/montserrat_medium\"\n                android:maxLines=\"1\"\n                android:ellipsize=\"end\"\n                android:text=\"Product Detail\"\n                android:textColor=\"@color/black_75\"\n                android:textSize=\"12sp\" />\n\n            <TextView\n                android:id=\"@+id/bkmark_url\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center_vertical\"\n                android:fontFamily=\"@font/montserrat_medium\"\n                android:maxLines=\"1\"\n                android:ellipsize=\"end\"\n                android:text=\"Product Detail\"\n                android:textColor=\"@color/black_75\"\n                android:textSize=\"10sp\"\n                android:layout_marginTop=\"2dp\"/>\n\n\n        </LinearLayout>\n\n    </RelativeLayout>\n\n\n\n\n\n\n\n\n\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/bookmark_layout.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/bookmark_layout.xml	(date 1622996925410)
@@ -6,7 +6,10 @@
     android:layout_width="match_parent"
     android:layout_height="70dp"
     xmlns:tools="http://schemas.android.com/tools"
-    android:layout_margin="15dp"
+    android:layout_marginTop="8dp"
+    android:layout_marginBottom="8dp"
+    android:layout_marginStart="20dp"
+    android:layout_marginEnd="20dp"
     app:cardCornerRadius="12dp"
     app:cardElevation="10dp">
 
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/WebActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view\n\nimport android.Manifest\nimport android.annotation.SuppressLint\nimport android.app.AlertDialog\nimport android.content.DialogInterface\nimport android.content.Intent\nimport android.content.SharedPreferences\nimport android.content.pm.PackageManager\nimport android.graphics.Bitmap\nimport android.graphics.Color\nimport android.os.Build\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.view.WindowManager\nimport android.view.animation.AnimationUtils\nimport android.webkit.*\nimport android.widget.*\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.app.ActivityCompat\nimport androidx.core.content.ContextCompat\nimport com.bumptech.glide.Glide\nimport com.bumptech.glide.load.engine.DiskCacheStrategy\nimport com.facebook.ads.*\nimport com.google.android.material.floatingactionbutton.FloatingActionButton\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\nimport kotlinx.android.synthetic.main.activity_web.*\nimport kotlinx.android.synthetic.main.custom_toast.*\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.model.bookmark.Bookmarks\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Helper\n\n\nclass WebActivity : AppCompatActivity() {\n\n    var webView: WebView? = null\n    var appTitle: String? = null\n    var appUrl: String? = null\n    var appIcon: String? = null\n    var color: String? = null\n    var searchUrl: String? = null\n\n    var rlWebSplash: RelativeLayout? = null\n    var ivAppIcon: ImageView? = null\n\n    private val TAG: String = WebActivity::class.java.simpleName\n    private val TIME_DELAY = 2000\n    private var back_pressed: Long = 0\n\n    private var interstitialFbAd: InterstitialAd? = null\n    private var adView: AdView? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    var mGeoLocationRequestOrigin: String? = null\n    var mGeoLocationCallback: GeolocationPermissions.Callback? = null\n\n    private var sharedPreferences: SharedPreferences? = null\n    private var editor: SharedPreferences.Editor? = null\n    val STORE_FILE_NAME = \"Bookmarks_data\"\n\n    lateinit var btn1: FloatingActionButton\n    lateinit var share: FloatingActionButton\n    private lateinit var bkmark: FloatingActionButton\n    private lateinit var bkmarkText: TextView\n    private lateinit var shareText: TextView\n    private var clicked = false\n\n    var bookmarksList: ArrayList<Bookmarks>? = ArrayList()\n\n    private val LOCATION_PERMISSION_CODE = 1\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_web)\n\n\n        initViews()\n        initData()\n\n        firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n        sharedPreferences =\n            getSharedPreferences(STORE_FILE_NAME, MODE_PRIVATE)\n        editor = sharedPreferences!!.edit()\n\n        bkmark.isEnabled = false\n\n        if (firebaseRemoteConfig!!.getBoolean(Constants().SHOW_ADS)) {\n\n            onFbBannerAds()\n            onLoadFbInterstitial()\n        }\n        loadWebSplash()\n\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(Manifest.permission.ACCESS_FINE_LOCATION), LOCATION_PERMISSION_CODE\n        )\n\n        webViewSettings()\n\n        if (searchUrl == null) {\n            webView?.loadUrl(appUrl!!)\n        } else {\n            webView?.loadUrl(searchUrl!!)\n        }\n\n        btn1.setOnClickListener {\n            onButtonClicked()\n        }\n\n\n\n        share.setOnClickListener {\n            val sendIntent: Intent = Intent().setAction(Intent.ACTION_SEND)\n            sendIntent.putExtra(\n                Intent.EXTRA_TEXT, appUrl\n            )\n            sendIntent.type = \"text/simple\"\n            val shareIntent = Intent.createChooser(sendIntent, null)\n            startActivity(shareIntent)\n        }\n\n        bkmark.setOnClickListener {\n\n            Log.d(TAG, \"onCreate: bookmarks \" + bkmark.tag)\n\n            if (bkmark.tag as Int === R.drawable.ic_bookmark) {\n                val bookmarks: Bookmarks? = Bookmarks()\n                bookmarks!!.bookmarkTitle = webView!!.title\n                bookmarks.bookmarkStoreTitle = appTitle\n                bookmarks.bookmarkUrl = webView!!.url\n                bookmarks.setBookmarkUrlWithoutAffiliate(getUrlWithoutParameters(webView!!.url!!))\n                bookmarks.bookmarkLogo = appIcon\n                bookmarks.webSplash = color\n\n                bookmarksList!!.add(bookmarks)\n\n                val bundle = Bundle()\n                bundle.putString(\"bookmarkTitle\", webView!!.title)\n                bundle.putString(\"bookmarkStoreTitle\", appTitle)\n                bundle.putString(\"bookmarkUrl\", webView!!.url)\n                firebaseAnalytics!!.logEvent(\"bookmarks_Usage\", bundle)\n\n                setBookmarks()\n\n                Helper().makeToast(\"Item added to your wishlist\", this@WebActivity)\n                bkmark.setImageDrawable(resources.getDrawable(R.drawable.ic_baseline_bookmark_fill))\n                bkmark.tag = R.drawable.ic_baseline_bookmark_fill\n            } else {\n                bkmark.setImageDrawable(resources.getDrawable(R.drawable.ic_bookmark))\n                bkmark.tag = R.drawable.ic_bookmark\n                removeBookmark(webView!!.url)\n            }\n        }\n    }\n\n    fun initViews() {\n        firebaseAnalytics = FirebaseAnalytics.getInstance(this@WebActivity)\n        webView = findViewById(R.id.webViewMain)\n        rlWebSplash = findViewById(R.id.rlWebSplash)\n        ivAppIcon = findViewById(R.id.ivAppIcon)\n        share = findViewById(R.id.button2)\n        bkmark = findViewById(R.id.button3)\n        btn1 = findViewById(R.id.button1)\n        shareText = findViewById(R.id.share)\n        bkmarkText = findViewById(R.id.bkmark)\n    }\n\n    fun initData() {\n\n        val bundle: Bundle? = intent.extras\n        appUrl = bundle?.getString(\"url\")\n        appIcon = bundle?.getString(\"app_icon\")\n        appTitle = bundle?.getString(\"title\")\n        color = bundle?.getString(\"color\")\n        searchUrl = bundle?.getString(\"search_url\")\n\n        Log.d(\"TAG\", \"initData: \" + bundle?.getString(\"url\"))\n        Log.d(\"colorweb\", \"initData: \" + bundle?.getString(\"color\"))\n        Log.d(\"search_url\", \"initData: \" + bundle?.getString(\"search_url\"))\n\n    }\n\n    private fun setBookmarks() {\n        Log.d(\"ShareBookmark\", bookmarksList.toString())\n        editor!!.putString(\"Bookmarks\", Gson().toJson(bookmarksList)).apply()\n    }\n\n    fun removeBookmark(bookmarkurl: String?) {\n        if (bookmarksList != null) {\n            var i = 0\n            while (i < bookmarksList!!.size) {\n                val bookmarkData: Bookmarks = bookmarksList!!.get(i)\n                if (bookmarkData.getBookmarkUrlWithoutAffiliate() != null && bookmarkData.getBookmarkUrlWithoutAffiliate()\n                        .equals(bookmarkurl)\n                ) {\n                    bookmarksList!!.removeAt(i)\n                    Helper().makeToast(\"Item removed from wishlist\", this@WebActivity)\n                }\n                i++\n            }\n            setBookmarks()\n        }\n    }\n\n    fun isBookmarked(webUrl: String?): Boolean {\n        getBookmarks()\n        if (bookmarksList != null) {\n            var i = 0\n            while (i < bookmarksList!!.size) {\n                val bookmarkData: Bookmarks = bookmarksList!![i]\n                Log.d(TAG, \"isBookmarked: \" + bookmarkData.getBookmarkUrlWithoutAffiliate())\n                if (bookmarkData.getBookmarkUrlWithoutAffiliate() != null && bookmarkData.getBookmarkUrlWithoutAffiliate()\n                        .equals(webUrl)\n                ) {\n                    return true\n                }\n                i++\n            }\n        }\n        return false\n    }\n\n    private fun getUrlWithoutParameters(url: String): String? {\n        try {\n            return if (url.contains(\"?\")) {\n                url.substring(0, url.indexOf(\"?\"))\n            } else {\n                url\n            }\n        } catch (s: StringIndexOutOfBoundsException) {\n            Log.d(\"TAG\", \"getUrlWithoutParameters: \" + s.localizedMessage)\n        }\n        return null\n    }\n\n\n    private fun getBookmarks() {\n        if (bookmarksList != null && !bookmarksList!!.isEmpty()) {\n            bookmarksList!!.clear()\n        }\n        if (sharedPreferences!!.getString(\"Bookmarks\", null) != null) {\n            val serializedObject: String = sharedPreferences!!.getString(\"Bookmarks\", null)!!\n            val gson = Gson()\n            val type = object : TypeToken<ArrayList<Bookmarks?>?>() {}.type\n            bookmarksList = gson.fromJson<ArrayList<Bookmarks>>(serializedObject, type)\n            Log.d(TAG, \"getBookmarks: \" + bookmarksList!!.size)\n        }\n    }\n\n\n    @SuppressLint(\"SetJavaScriptEnabled\")\n    fun webViewSettings() {\n        webView!!.settings.loadsImagesAutomatically = true\n        webView!!.settings.javaScriptEnabled = true\n        webView!!.settings.allowContentAccess = true\n        webView!!.settings.useWideViewPort = true\n        webView!!.settings.loadWithOverviewMode = true\n        webView!!.settings.domStorageEnabled = true\n        webView!!.clearView()\n        webView!!.isHorizontalScrollBarEnabled = false\n        webView!!.settings.setAppCacheEnabled(true)\n        webView!!.settings.databaseEnabled = true\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.KITKAT) {\n            webView!!.settings.databasePath = \"/data/data/\" + this.packageName + \"/databases/\"\n        }\n        webView!!.isVerticalScrollBarEnabled = false\n        webView!!.settings.builtInZoomControls = true\n        webView!!.settings.displayZoomControls = false\n        webView!!.settings.allowFileAccess = true\n        webView!!.settings.pluginState = WebSettings.PluginState.OFF\n        webView!!.isScrollbarFadingEnabled = false\n        webView!!.settings.cacheMode = WebSettings.LOAD_NO_CACHE\n        webView!!.settings.defaultZoom = WebSettings.ZoomDensity.FAR\n        webView!!.webViewClient = WebViewClient()\n        webView!!.settings.setRenderPriority(WebSettings.RenderPriority.HIGH)\n        webView!!.setInitialScale(1)\n\n        webView!!.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(\n                view: WebView,\n                request: WebResourceRequest\n            ): Boolean {\n                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n                    view.loadUrl(request.url.toString())\n                }\n                return false\n            }\n\n            override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                super.onPageStarted(view, url, favicon)\n                if (isBookmarked(getUrlWithoutParameters(view!!.getUrl()!!))) {\n                    bkmark.setImageDrawable(resources.getDrawable(R.drawable.ic_baseline_bookmark_fill))\n                    bkmark.tag = R.drawable.ic_baseline_bookmark_fill\n                } else {\n                    bkmark.setImageDrawable(resources.getDrawable(R.drawable.ic_bookmark))\n                    bkmark.tag = R.drawable.ic_bookmark\n                }\n            }\n        }\n\n        webView!!.webChromeClient = object : WebChromeClient() {\n\n            override fun onGeolocationPermissionsShowPrompt(\n                origin: String?,\n                callback: GeolocationPermissions.Callback?\n            ) {\n                if (ContextCompat.checkSelfPermission(\n                        this@WebActivity,\n                        Manifest.permission.ACCESS_FINE_LOCATION\n                    )\n                    != PackageManager.PERMISSION_GRANTED\n                ) {\n\n                    if (ActivityCompat.shouldShowRequestPermissionRationale(\n                            this@WebActivity,\n                            Manifest.permission.ACCESS_FINE_LOCATION\n                        )\n                    ) {\n                        AlertDialog.Builder(this@WebActivity)\n                            .setMessage(\"Please turn ON the GPS to make app work smoothly\")\n                            .setNeutralButton(\n                                android.R.string.ok,\n                                DialogInterface.OnClickListener { dialogInterface, i ->\n                                    mGeoLocationCallback = callback\n                                    mGeoLocationRequestOrigin = origin\n                                    ActivityCompat.requestPermissions(\n                                        this@WebActivity,\n                                        arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n                                        1001\n                                    )\n\n                                })\n                            .show()\n\n                    } else {\n                        //no explanation need we can request the locatio\n                        mGeoLocationCallback = callback\n                        mGeoLocationRequestOrigin = origin\n                        ActivityCompat.requestPermissions(\n                            this@WebActivity,\n                            arrayOf(Manifest.permission.ACCESS_FINE_LOCATION), 1001\n                        )\n                    }\n                } else {\n                    //tell the webview that permission has granted\n                    callback!!.invoke(origin, true, true)\n                }\n            }\n\n\n            override fun onProgressChanged(view: WebView?, newProgress: Int) {\n                super.onProgressChanged(view, newProgress)\n                if (newProgress >= 90) {\n                    rlWebSplash!!.visibility = View.GONE\n                    bkmark.setEnabled(true)\n                }\n            }\n\n        }\n    }\n\n    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array<out String>,\n        grantResults: IntArray\n    ) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n\n        when (requestCode) {\n            1001 -> {\n                //if permission is cancel result array would be empty\n                if (grantResults.isNotEmpty() && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    //permission was granted\n                    if (mGeoLocationCallback != null) {\n                        mGeoLocationCallback!!.invoke(mGeoLocationRequestOrigin, true, true)\n                    }\n                } else {\n                    //permission denied\n                    if (mGeoLocationCallback != null) {\n                        mGeoLocationCallback!!.invoke(mGeoLocationRequestOrigin, false, false)\n                    }\n                }\n            }\n        }\n\n    }\n\n    @SuppressLint(\"ResourceType\")\n    fun loadWebSplash() {\n\n        if (Build.VERSION.SDK_INT >= 21) {\n            val window = this.window\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n            window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\n            window.setStatusBarColor(Color.parseColor(color))\n        }\n\n\n        if (color.isNullOrEmpty()) {\n            rlWebSplash!!.setBackgroundColor(Color.parseColor(color))\n        }\n\n        Glide.with(ivAppIcon!!.context)\n            .load(appIcon)\n            .diskCacheStrategy(DiskCacheStrategy.ALL)\n            .into(ivAppIcon!!)\n\n    }\n\n    fun onLoadFbInterstitial() {\n        interstitialFbAd = InterstitialAd(this, Constants().getFbInterstitialWebExit())\n\n        val interstitialAdListener: InterstitialAdListener = object : InterstitialAdListener {\n            override fun onInterstitialDisplayed(ad: Ad) {\n                // Interstitial ad displayed callback\n                Log.e(TAG, \"Interstitial ad displayed.\")\n            }\n\n            override fun onInterstitialDismissed(ad: Ad) {\n                // Interstitial dismissed callback\n                Log.e(TAG, \"Interstitial ad dismissed.\")\n                finish()\n            }\n\n            override fun onError(ad: Ad?, adError: AdError) {\n                // Ad error callback\n                Log.e(TAG, \"Interstitial ad failed to load: \" + adError.getErrorMessage())\n            }\n\n            override fun onAdLoaded(ad: Ad) {\n                // Interstitial ad is loaded and ready to be displayed\n                Log.d(TAG, \"Interstitial ad is loaded and ready to be displayed!\")\n                // Show the ad\n//                interstitialFbAd.show()\n            }\n\n            override fun onAdClicked(ad: Ad) {\n                // Ad clicked callback\n                Log.d(TAG, \"Interstitial ad clicked!\")\n            }\n\n            override fun onLoggingImpression(ad: Ad) {\n                // Ad impression logged callback\n                Log.d(TAG, \"Interstitial ad impression logged!\")\n            }\n        }\n\n        interstitialFbAd!!.loadAd(\n            interstitialFbAd!!.buildLoadAdConfig()\n                .withAdListener(interstitialAdListener)\n                .build()\n        );\n\n    }\n\n    fun onFbBannerAds() {\n        adView = AdView(this, Constants().getFbBannerWeb(), AdSize.BANNER_HEIGHT_50)\n\n        // Find the Ad Container\n        val adContainer = findViewById<View>(R.id.banner_container) as LinearLayout\n\n        // Add the ad view to your activity layout\n        adContainer.addView(adView)\n\n        val adListenerBanner: com.facebook.ads.AdListener = object : com.facebook.ads.AdListener {\n            override fun onError(ad: Ad?, adError: AdError) {\n                // Ad error callback\n            }\n\n            override fun onAdLoaded(ad: Ad?) {\n                Log.d(TAG, \"onAdLoaded: Banner\")\n            }\n\n            override fun onAdClicked(ad: Ad?) {\n                // Ad clicked callback\n            }\n\n            override fun onLoggingImpression(ad: Ad?) {\n                // Ad impression logged callback\n            }\n        }\n\n        // Request an ad\n        adView!!.loadAd(adView!!.buildLoadAdConfig().withAdListener(adListenerBanner).build())\n    }\n\n    public override fun onPause() {\n//        adView.pause()\n        super.onPause()\n    }\n\n    // Called when returning to the activity\n    public override fun onResume() {\n        super.onResume()\n//        adView.resume()\n    }\n\n    // Called before the activity is destroyed\n    public override fun onDestroy() {\n        if (adView != null) {\n            adView!!.destroy()\n        }\n        super.onDestroy()\n    }\n\n    override fun onBackPressed() {\n\n        if (back_pressed + TIME_DELAY > System.currentTimeMillis()) {\n            super.onBackPressed()\n        } else {\n            Toast.makeText(\n                getBaseContext(), \"Double click to exit!\",\n                Toast.LENGTH_SHORT\n            ).show();\n            if (webView!!.canGoBack()) {\n                webView!!.goBack()\n            } else {\n                if (interstitialFbAd != null && interstitialFbAd!!.isAdLoaded) {\n                    if (interstitialFbAd!!.isAdInvalidated) {\n                    } else {\n                        interstitialFbAd!!.show()\n                    }\n                } else {\n                    super.onBackPressed()\n                }\n\n            }\n        }\n        back_pressed = System.currentTimeMillis();\n\n    }\n\n    private fun onButtonClicked() {\n\n        if (!clicked) {\n            share.visibility = View.VISIBLE\n            bkmark.visibility = View.VISIBLE\n            shareText.visibility = View.VISIBLE\n            bkmarkText.visibility = View.VISIBLE\n        } else {\n            share.visibility = View.INVISIBLE\n            bkmark.visibility = View.INVISIBLE\n            shareText.visibility = View.INVISIBLE\n            bkmarkText.visibility = View.INVISIBLE\n        }\n\n        if (!clicked) {\n            share.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.from_bottom\n                )\n            )\n            bkmark.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.from_bottom\n                )\n            )\n            shareText.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.from_left\n                )\n            )\n            bkmarkText.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.from_left\n                )\n            )\n            btn1.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.rotate_open\n                )\n            )\n        } else {\n            share.startAnimation(AnimationUtils.loadAnimation(applicationContext, R.anim.to_bottom))\n            bkmark.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.to_bottom\n                )\n            )\n\n            shareText.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.to_left\n                )\n            )\n            bkmarkText.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.to_left\n                )\n            )\n            btn1.startAnimation(\n                AnimationUtils.loadAnimation(\n                    applicationContext,\n                    R.anim.rotate_close\n                )\n            )\n        }\n\n        if (!clicked) {\n            share.isClickable = true\n            bkmark.isClickable = true\n            shareText.isClickable = true\n            bkmarkText.isClickable = true\n        } else {\n            share.isClickable = false\n            bkmark.isClickable = false\n            shareText.isClickable = false\n            bkmarkText.isClickable = false\n        }\n        clicked = !clicked\n    }\n//\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/WebActivity.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/WebActivity.kt	(date 1622996466424)
@@ -12,6 +12,8 @@
 import android.os.Build
 import android.os.Bundle
 import android.util.Log
+import android.util.TypedValue
+import android.view.Gravity
 import android.view.View
 import android.view.WindowManager
 import android.view.animation.AnimationUtils
@@ -20,6 +22,7 @@
 import androidx.appcompat.app.AppCompatActivity
 import androidx.core.app.ActivityCompat
 import androidx.core.content.ContextCompat
+import androidx.core.content.res.ResourcesCompat
 import com.bumptech.glide.Glide
 import com.bumptech.glide.load.engine.DiskCacheStrategy
 import com.facebook.ads.*
@@ -30,6 +33,8 @@
 import com.google.gson.reflect.TypeToken
 import kotlinx.android.synthetic.main.activity_web.*
 import kotlinx.android.synthetic.main.custom_toast.*
+import me.toptas.fancyshowcase.FancyShowCaseView
+import me.toptas.fancyshowcase.FocusShape
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.R
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.model.bookmark.Bookmarks
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants
@@ -63,7 +68,6 @@
 
     private var sharedPreferences: SharedPreferences? = null
     private var editor: SharedPreferences.Editor? = null
-    val STORE_FILE_NAME = "Bookmarks_data"
 
     lateinit var btn1: FloatingActionButton
     lateinit var share: FloatingActionButton
@@ -84,9 +88,24 @@
         initViews()
         initData()
 
+        val typeface =
+            ResourcesCompat.getFont(this, R.font.montserrat_semibold)
+
+        FancyShowCaseView.Builder(this)
+            .focusOn(btn1)
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_FAB")
+            .title("Click to add this item to your wishlist to explore later and also to share this item where you want!!")
+            .build()
+
         firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()
         sharedPreferences =
-            getSharedPreferences(STORE_FILE_NAME, MODE_PRIVATE)
+            getSharedPreferences(Constants().BOOKMARKS_DATA, MODE_PRIVATE)
         editor = sharedPreferences!!.edit()
 
         bkmark.isEnabled = false
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view\n\nimport android.app.Dialog\nimport android.content.ActivityNotFoundException\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Build\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.view.WindowManager\nimport android.widget.ImageView\nimport android.widget.Toast\nimport androidx.appcompat.app.AlertDialog\nimport androidx.fragment.app.FragmentPagerAdapter\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.recyclerview.widget.GridLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.android.material.tabs.TabLayout\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.BuildConfig\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport com.yalantis.contextmenu.lib.ContextMenuDialogFragment\nimport com.yalantis.contextmenu.lib.MenuObject\nimport com.yalantis.contextmenu.lib.MenuParams\nimport github.com.st235.lib_expandablebottombar.ExpandableBottomBar\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.bookmark_layout.*\nimport me.toptas.fancyshowcase.FancyShowCaseView\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.base.BaseActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.CustomViewPager\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.ForceUpdateChecker\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Pref\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.home.AllAppsAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.AllAppsItemClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.CategoryViewModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.DealsViewModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.GlobalViewModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.HomeViewModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewpager.AppPagerAdapter\n\n\nclass MainActivity : BaseActivity(), AllAppsItemClickListener<List<String>>,\n    ForceUpdateChecker.OnUpdateNeededListener {\n\n    var viewPager: CustomViewPager? = null\n    var viewPagerTab: TabLayout? = null\n    var fragmentPagerAdapter: FragmentPagerAdapter? = null\n    var homeViewModel: HomeViewModel? = null\n    var globalViewModel: GlobalViewModel? = null\n    var dealsViewModel: DealsViewModel? = null\n    var categoryViewModel: CategoryViewModel? = null\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    private lateinit var contextMenuDialogFragment: ContextMenuDialogFragment\n\n    private lateinit var bottomNav: ExpandableBottomBar\n\n    var search_rvCountryStores: RecyclerView? = null\n\n    var appsList: ArrayList<List<String>>? = ArrayList()\n\n    val filterList: ArrayList<List<String>> = ArrayList()\n\n    var dialog: Dialog? = null\n\n    var allAppsAdapter: AllAppsAdapter? = null\n\n    lateinit var search: ImageView\n\n    private var searchTxt: String? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n\n    override val bindingVariable: Int\n        get() = 0\n    override val layoutId: Int\n        get() = 0\n    var bool: Boolean = false\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        if (Build.VERSION.SDK_INT >= 21) {\n            val window = this.window\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n            window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\n            window.statusBarColor = this.resources.getColor(R.color.colorPrimaryDark)\n        }\n\n\n\n        initViews()\n//        initToolbar()\n        initMenuFragment()\n\n\n        fancy(findViewById(R.id.search), \"Search Here !\")\n\n        fancy(findViewById(R.id.ivMenu), \"Menu items\")\n\n\n\n        Pref.initializeInstance(this)\n\n        firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n\n        Log.d(\"TAG\", \"onCreate: currentTime \" + System.currentTimeMillis())\n\n        if (!Pref.instance!!.dataChangedDate.equals(firebaseRemoteConfig!!.getString(Constants().DATA_CHANGED_DATE))) {\n            Pref.instance!!.dataChanged = true\n            Pref.instance!!.dataChangedDate =\n                firebaseRemoteConfig!!.getString(Constants().DATA_CHANGED_DATE)\n            Log.d(\n                \"TAG\",\n                \"onCreate: dataChanged \" + Pref.instance!!.dataChanged + \" dataChangedDate \" + Pref.instance!!.dataChangedDate\n            )\n        } else {\n            Pref.instance!!.dataChanged = false\n            Log.d(\n                \"TAG\",\n                \"onCreate: dataChanged \" + Pref.instance!!.dataChanged + \" dataChangedDate \" + Pref.instance!!.dataChangedDate\n            )\n        }\n\n        dialog = Dialog(this)\n\n        ForceUpdateChecker().with(this)!!.onUpdateNeeded(this).check()\n\n        homeViewModel = ViewModelProvider(this).get(HomeViewModel::class.java)\n        dealsViewModel = ViewModelProvider(this).get(DealsViewModel::class.java)\n        categoryViewModel = ViewModelProvider(this).get(CategoryViewModel::class.java)\n        globalViewModel = ViewModelProvider(this).get(GlobalViewModel::class.java)\n\n\n        homeViewModel?.loadData()\n\n        homeViewModel!!.allAppsLiveData.observe(this, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live allAppsLiveData$t\")\n            appsList!!.clear()\n            if (t != null) {\n                t.getValues()?.let { appsList?.addAll(it) }\n            }\n        })\n\n        search.setOnClickListener {\n            onShowStores(appsList!!, it)\n        }\n//\n        viewPagerTab!!.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                Log.d(\"TAG\", \"onTabSelected: \" + tab.position)\n                val bundleAppUsage = Bundle()\n                bundleAppUsage.putString(\"tab_click\", tab.text.toString())\n                onUpdateLogEvent(bundleAppUsage, \"app_usage\", false)\n            }\n\n            override fun onTabUnselected(tab: TabLayout.Tab) {}\n            override fun onTabReselected(tab: TabLayout.Tab) {}\n        })\n\n        setupViewPager()\n\n        val menu = bottomNav.menu\n\n        menu.select(R.id.id_home)\n//        viewPager!!.currentItem = 0\n\n        fancy(bottomNav.getChildAt(1), \"Category\")\n        fancy(bottomNav.getChildAt(2), \"Deals\")\n        fancy(bottomNav.getChildAt(3), \"bookmark\")\n\n        bottomNav.onItemSelectedListener = { view, menuItem, bool ->\n            when (menuItem.id) {\n                R.id.id_home -> {\n                    viewPager!!.currentItem = 0\n                }\n                R.id.id_category -> {\n                    viewPager!!.currentItem = 1\n                }\n                R.id.id_deals -> {\n                    viewPager!!.currentItem = 2\n                }\n                R.id.id_bookmark -> {\n                    viewPager!!.currentItem = 3\n                }\n            }\n        }\n\n        ivMenu.setOnClickListener {\n            showContextMenuDialogFragment()\n        }\n    }\n\n    private fun initViews() {\n        firebaseAnalytics = FirebaseAnalytics.getInstance(this)\n        bottomNav = findViewById(R.id.expandable_bottom_bar)\n        viewPager = findViewById(R.id.vpPager)\n        viewPagerTab = findViewById(R.id.view_pager_tab)\n        search = findViewById(R.id.search)\n\n    }\n\n//    private fun initToolbar() {\n//        setSupportActionBar(toolbar)\n//\n//        supportActionBar?.apply {\n//            setHomeButtonEnabled(false)\n//            setDisplayHomeAsUpEnabled(false)\n//            setDisplayShowTitleEnabled(false)\n//        }\n//    }\n\n    fun fancy(it: View, title: String) {\n        return FancyShowCaseView.Builder(this).focusOn(it).title(title).delay(50).showOnce(title)\n            .titleSize(14, 2)\n            .build()\n            .show()\n    }\n\n    private fun onShowStores(list: ArrayList<List<String>>, view: View) {\n        dialog!!.setContentView(R.layout.dialog_search)\n\n        fancy(view, \"Search Here !\")\n\n        dialog!!.window!!.setLayout(\n            WindowManager.LayoutParams.MATCH_PARENT,\n            WindowManager.LayoutParams.MATCH_PARENT\n        );\n\n        search_rvCountryStores = dialog!!.findViewById(R.id.search_rvCategoryStores)\n\n        setRecyclerView()\n\n        allAppsAdapter!!.setItems(list)\n\n        dialog!!.show()\n\n    }\n\n    private fun setRecyclerView() {\n        allAppsAdapter = AllAppsAdapter(applicationContext)\n        allAppsAdapter!!.setListener(this)\n        search_rvCountryStores.apply {\n            search_rvCountryStores?.layoutManager = GridLayoutManager(this@MainActivity, 3)\n            search_rvCountryStores?.adapter = allAppsAdapter\n\n            val appSearchView: android.widget.SearchView = dialog!!.findViewById(R.id.app_search)\n            filterList.clear()\n            filterList.addAll(appsList!!)\n\n\n            appSearchView.setOnQueryTextListener(object :\n                android.widget.SearchView.OnQueryTextListener {\n                override fun onQueryTextSubmit(query: String?): Boolean {\n                    searchTxt = query\n                    Log.d(\"QuerySearch\", searchTxt.toString())\n                    return false\n                }\n\n                override fun onQueryTextChange(newText: String?): Boolean {\n                    searchTxt = newText\n                    return false\n                }\n            })\n        }\n    }\n\n//    private val textwatcher = object : TextWatcher {\n//\n//\n//        override fun beforeTextChanged(\n//            charSequence: CharSequence?,\n//            start: Int,\n//            count: Int,\n//            after: Int\n//        ) {\n//        }\n//\n//        override fun onTextChanged(\n//            charSequence: CharSequence?,\n//            start: Int,\n//            before: Int,\n//            count: Int\n//        ) {\n//\n//            Log.d(\"Filter\", filterList.toString())\n//\n//            val searchChar = charSequence.toString().toLowerCase()\n//            Log.d(\"filterSea\", searchChar)\n//            searchTxt = searchChar\n//\n////            val itemsModal = ArrayList<List<String>>()\n////\n////            for (item in filterList) {\n////                if (item[1].toLowerCase().contains(searchChar)) {\n////                    Log.d(\"filterdone\", item[1])\n////                    Log.d(\"filterChar\", searchChar)\n////                    itemsModal.add(item)\n////                }\n////            }\n////\n////            appsList!!.clear()\n////            appsList!!.addAll(itemsModal)\n////            Log.d(\"filterList\", itemsModal.toString())\n////            allAppsAdapter!!.setItems(appsList)\n////            allAppsAdapter!!.notifyDataSetChanged()\n//        }\n//\n//        override fun afterTextChanged(s: Editable?) {\n//        }\n//    }\n\n    private fun setupViewPager() {\n\n        fragmentPagerAdapter = AppPagerAdapter(supportFragmentManager)\n        viewPager!!.adapter = fragmentPagerAdapter\n        val limit =\n            if ((fragmentPagerAdapter as AppPagerAdapter).count > 1) (fragmentPagerAdapter as AppPagerAdapter).count - 1 else 1\n        viewPager!!.offscreenPageLimit = limit;\n        viewPager!!.currentItem = 0\n\n        viewPager!!.setSwipePagingEnabled(false)\n\n        viewPagerTab!!.setupWithViewPager(viewPager)\n\n    }\n\n    override fun onDestroy() {\n        homeViewModel?.reset()\n        globalViewModel?.reset()\n        dealsViewModel?.reset()\n        categoryViewModel?.reset()\n        super.onDestroy()\n\n    }\n\n    override fun onUpdateNeeded(updateUrl: String?) {\n        val dialog = AlertDialog.Builder(this)\n            .setTitle(\"New version available\")\n            .setMessage(\"Please, update app to new version to continue shopping.\")\n            .setPositiveButton(\n                \"Update\"\n            ) { dialog, which -> redirectStore(updateUrl!!) }.setNegativeButton(\n                \"No, thanks\"\n            ) { dialog, which -> finish() }.create()\n        dialog.show()\n\n    }\n\n    private fun redirectStore(updateUrl: String) {\n        val intent = Intent(Intent.ACTION_VIEW, Uri.parse(updateUrl))\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        startActivity(intent)\n    }\n\n    fun onUpdateLogEvent(bundle: Bundle, eventName: String, isUrlVisited: Boolean) {\n        Log.d(\"TAG\", \"onUpdateLogEvent: \")\n        if (BuildConfig.DEBUG) {\n            return\n        } else {\n            if (isUrlVisited) {\n                firebaseAnalytics!!.logEvent(eventName, bundle)\n                firebaseAnalytics!!.logEvent(\"url_visited\", bundle)\n            } else\n                firebaseAnalytics!!.logEvent(eventName, bundle)\n        }\n    }\n\n    override fun onAllCardClick(item: List<String>) {\n        Log.d(\"TAG\", \"onAllCardClick: \" + item[1])\n\n        if (item[1] == \"Amazon\") {\n\n            if (bool) {\n                val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(item[2]))\n                startActivity(browserIntent)\n            } else {\n                val intent: Intent = Intent(this, WebActivity::class.java)\n                intent.putExtra(\"title\", item[1])\n                intent.putExtra(\"url\", item[2])\n                intent.putExtra(\"app_icon\", item[3])\n                intent.putExtra(\"color\", item[4])\n                if (searchTxt != null) {\n                    intent.putExtra(\"search_url\", item[5] + \"$searchTxt\")\n                }\n\n                startActivity(intent)\n            }\n        } else {\n            val intent: Intent = Intent(this, WebActivity::class.java)\n            intent.putExtra(\"title\", item[1])\n            intent.putExtra(\"url\", item[2])\n            intent.putExtra(\"app_icon\", item[3])\n            intent.putExtra(\"color\", item[4])\n            if (searchTxt != null) {\n                intent.putExtra(\"search_url\", item[5] + \"$searchTxt\")\n            }\n\n            startActivity(intent)\n        }\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", item[1])\n        bundle.putString(\"url\", item[2])\n\n        this.onUpdateLogEvent(bundle, \"all_apps_visited\", true)\n    }\n\n//    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n//        menuInflater.inflate(R.menu.menu2, menu)\n//        Log.d(\"menuInflate\", \"done\")\n//        return true\n//    }\n//\n//    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n//        item.let {\n//            when (it.itemId) {\n//                R.id.context_menu -> {\n//                    Log.d(\"Menu Item\", it.itemId.toString())\n//                    showContextMenuDialogFragment()\n//                }\n//            }\n//        }\n//\n//        return super.onOptionsItemSelected(item)\n//    }\n\n    private fun initMenuFragment() {\n        val menuParams = MenuParams(\n            actionBarSize = resources.getDimension(R.dimen.menu).toInt(),\n            menuObjects = getMenuObjects(),\n            isClosableOutside = true\n        )\n\n        contextMenuDialogFragment = ContextMenuDialogFragment.newInstance(menuParams).apply {\n            menuItemClickListener = { view, position ->\n                when (position) {\n                    1 -> {\n                        try {\n                            startActivity(\n                                Intent(\n                                    Intent.ACTION_VIEW,\n                                    Uri.parse(\"https://play.google.com/store/apps/dev?id=6823602592155636380\")\n                                )\n                            )\n                        } catch (e: ActivityNotFoundException) {\n                            startActivity(\n                                Intent(\n                                    Intent.ACTION_VIEW,\n                                    Uri.parse(\"https://play.google.com/store/apps/details?id=6823602592155636380\")\n                                )\n                            )\n                        }\n                    }\n                    2 -> {\n                        try {\n                            startActivity(\n                                Intent(\n                                    Intent.ACTION_VIEW,\n                                    Uri.parse(\"https://play.google.com/store/apps/details?id=shopping.grocery.medicine.online.deals.coupons.compare.buy\")\n                                )\n                            )\n                        } catch (e: ActivityNotFoundException) {\n                            startActivity(\n                                Intent(\n                                    Intent.ACTION_VIEW,\n                                    Uri.parse(\"https://play.google.com/store/apps/details?id=shopping.grocery.medicine.online.deals.coupons.compare.buy\")\n                                )\n                            )\n                        }\n                    }\n                    2 -> {\n                        val i = Intent(Intent.ACTION_SEND)\n                        i.type = \"message/rfc822\"\n                        i.putExtra(Intent.EXTRA_EMAIL, arrayOf(\"infinitywebapps@gmail.com\"))\n                        i.putExtra(\n                            Intent.EXTRA_SUBJECT,\n                            \"Feedback \" + resources.getString(R.string.app_name)\n                        )\n                        i.putExtra(Intent.EXTRA_TEXT, \"Feedback :: \")\n                        try {\n                            startActivity(Intent.createChooser(i, \"Send feedback...\"))\n                        } catch (ex: ActivityNotFoundException) {\n                            Toast.makeText(\n                                this@MainActivity,\n                                \"There are no email clients installed.\",\n                                Toast.LENGTH_SHORT\n                            ).show()\n                        }\n                    }\n                    2 -> {\n                        val intent = Intent(Intent.ACTION_SEND)\n                        /*This will be the actual content you wish you share.*/\n                        /*This will be the actual content you wish you share.*/\n                        val shareBody = \"Use this \"\n                        /*The type of the content is text, obviously.*/\n                        /*The type of the content is text, obviously.*/intent.type = \"text/plain\"\n                        /*Applying information Subject and Body.*/\n                        /*Applying information Subject and Body.*/\n                        intent.putExtra(Intent.EXTRA_TEXT, shareBody)\n                        /*Fire!*/\n                        /*Fire!*/startActivity(\n                            Intent.createChooser(\n                                intent,\n                                \"Share via\"\n                            )\n                        )\n                    }\n\n                }\n            }\n        }\n    }\n\n\n    private fun getMenuObjects() = mutableListOf<MenuObject>().apply {\n        val close = MenuObject().apply {\n            setResourceValue(R.drawable.ic_baseline_close)\n            setBgColorValue(resources.getColor(R.color.colorPrimary))\n        }\n        val moreApps = MenuObject(\"More apps\").apply {\n            setResourceValue(R.drawable.ic_baseline_store)\n            setBgColorValue(resources.getColor(R.color.colorPrimary))\n        }\n        val rateUs = MenuObject(\"Rate Us\").apply {\n            setResourceValue(R.drawable.ic_baseline_star_rate)\n            setBgColorValue(resources.getColor(R.color.colorPrimary))\n        }\n        val feedback = MenuObject(\"Feedback\").apply {\n            setResourceValue(R.drawable.ic_baseline_feedback)\n            setBgColorValue(resources.getColor(R.color.colorPrimary))\n        }\n        val share = MenuObject(\"Share\").apply {\n            setResourceValue(R.drawable.ic_share)\n            setBgColorValue(resources.getColor(R.color.colorPrimary))\n        }\n\n        add(close)\n        add(moreApps)\n        add(rateUs)\n        add(feedback)\n        add(share)\n    }\n\n    private fun showContextMenuDialogFragment() {\n        Log.d(\"TAG\", \"showContextMenuDialogFragment: \")\n        if (supportFragmentManager.findFragmentByTag(ContextMenuDialogFragment.TAG) == null) {\n            contextMenuDialogFragment.show(supportFragmentManager, ContextMenuDialogFragment.TAG)\n        }\n    }\n}\n\n\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/MainActivity.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/MainActivity.kt	(date 1622995850180)
@@ -7,11 +7,15 @@
 import android.os.Build
 import android.os.Bundle
 import android.util.Log
+import android.util.TypedValue
+import android.view.Gravity
 import android.view.View
 import android.view.WindowManager
 import android.widget.ImageView
 import android.widget.Toast
 import androidx.appcompat.app.AlertDialog
+import androidx.core.content.res.ResourcesCompat
+import androidx.core.view.get
 import androidx.fragment.app.FragmentPagerAdapter
 import androidx.lifecycle.Observer
 import androidx.lifecycle.ViewModelProvider
@@ -27,7 +31,9 @@
 import github.com.st235.lib_expandablebottombar.ExpandableBottomBar
 import kotlinx.android.synthetic.main.activity_main.*
 import kotlinx.android.synthetic.main.bookmark_layout.*
+import me.toptas.fancyshowcase.FancyShowCaseQueue
 import me.toptas.fancyshowcase.FancyShowCaseView
+import me.toptas.fancyshowcase.FocusShape
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.R
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.base.BaseActivity
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants
@@ -41,6 +47,8 @@
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.GlobalViewModel
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.HomeViewModel
 import shopping.grocery.medicine.online.deals.coupons.compare.buy.viewpager.AppPagerAdapter
+import java.util.*
+import kotlin.collections.ArrayList
 
 
 class MainActivity : BaseActivity(), AllAppsItemClickListener<List<String>>,
@@ -75,6 +83,14 @@
 
     var firebaseRemoteConfig: FirebaseRemoteConfig? = null
 
+    var fancyCategories: FancyShowCaseView? = null
+    var fancyHome: FancyShowCaseView? = null
+    var fancyBookmarks: FancyShowCaseView? = null
+    var fancyDeals: FancyShowCaseView? = null
+    var fancySearchView: FancyShowCaseView? = null
+    var fancyMenu: FancyShowCaseView? = null
+    var fancyShowCaseQueue: FancyShowCaseQueue? = null
+
     override val bindingVariable: Int
         get() = 0
     override val layoutId: Int
@@ -99,12 +115,7 @@
 //        initToolbar()
         initMenuFragment()
 
-
-        fancy(findViewById(R.id.search), "Search Here !")
-
-        fancy(findViewById(R.id.ivMenu), "Menu items")
-
-
+        onShowIntro()
 
         Pref.initializeInstance(this)
 
@@ -171,10 +182,6 @@
         menu.select(R.id.id_home)
 //        viewPager!!.currentItem = 0
 
-        fancy(bottomNav.getChildAt(1), "Category")
-        fancy(bottomNav.getChildAt(2), "Deals")
-        fancy(bottomNav.getChildAt(3), "bookmark")
-
         bottomNav.onItemSelectedListener = { view, menuItem, bool ->
             when (menuItem.id) {
                 R.id.id_home -> {
@@ -216,18 +223,9 @@
 //        }
 //    }
 
-    fun fancy(it: View, title: String) {
-        return FancyShowCaseView.Builder(this).focusOn(it).title(title).delay(50).showOnce(title)
-            .titleSize(14, 2)
-            .build()
-            .show()
-    }
-
     private fun onShowStores(list: ArrayList<List<String>>, view: View) {
         dialog!!.setContentView(R.layout.dialog_search)
 
-        fancy(view, "Search Here !")
-
         dialog!!.window!!.setLayout(
             WindowManager.LayoutParams.MATCH_PARENT,
             WindowManager.LayoutParams.MATCH_PARENT
@@ -554,6 +552,84 @@
             contextMenuDialogFragment.show(supportFragmentManager, ContextMenuDialogFragment.TAG)
         }
     }
+
+    fun onShowIntro() {
+
+        val typeface =
+            ResourcesCompat.getFont(this, R.font.montserrat_semibold)
+
+        fancyHome = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(bottomNav.getChildAt(0)))
+            .focusShape(FocusShape.ROUNDED_RECTANGLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .enableAutoTextPosition()
+            .typeface(typeface)
+            .showOnce("FANCY_HOME")
+            .title("Multiple stores and brands are compiled here")
+            .build()
+        fancyCategories = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(bottomNav.getChildAt(1)))
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_CATEGORIES")
+            .title("Shop conferring to distinct categories")
+            .build()
+        fancyDeals = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(bottomNav.getChildAt(2)))
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_DEALS")
+            .title("Offers and deals for every store")
+            .build()
+        fancyBookmarks = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(bottomNav.getChildAt(3)))
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_BOOKMARKS")
+            .title("Create a list of your favourite item(s) to buy later")
+            .build()
+        fancySearchView = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(search))
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_SEARCH")
+            .title("Search for your interest across the stores")
+            .build()
+        fancyMenu = FancyShowCaseView.Builder(this@MainActivity)
+            .focusOn(Objects.requireNonNull(ivMenu))
+            .focusShape(FocusShape.CIRCLE)
+            .roundRectRadius(90)
+            .titleGravity(Gravity.CENTER)
+            .titleSize(28, TypedValue.COMPLEX_UNIT_SP)
+            .typeface(typeface)
+            .enableAutoTextPosition()
+            .showOnce("FANCY_MENU")
+            .title("Checkout more app features here")
+            .build()
+        fancyShowCaseQueue = FancyShowCaseQueue()
+        fancyShowCaseQueue!!.add(fancyHome!!).add(fancyCategories!!)
+            .add(fancyDeals!!).add(fancyBookmarks!!).add(fancySearchView!!).add(fancyMenu!!)
+        fancyShowCaseQueue!!.show()
+    }
+
 }
 
 
Index: app/src/main/res/drawable/bookmark_bg.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" >\n    <gradient\n        android:type=\"linear\"\n        android:startColor=\"@color/colorPrimary\"\n        android:centerColor=\"#12D8FA\"\n        android:endColor=\"#A6FFCB\"\n        android:angle=\"45\"\n        />\n    <size android:height=\"400dp\"\n        android:width=\"250dp\"/>\n</shape>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/bookmark_bg.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/drawable/bookmark_bg.xml	(date 1622985935478)
@@ -4,7 +4,7 @@
         android:startColor="@color/colorPrimary"
         android:centerColor="#12D8FA"
         android:endColor="#A6FFCB"
-        android:angle="45"
+        android:angle="36"
         />
     <size android:height="400dp"
         android:width="250dp"/>
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view.fragment\n\nimport android.content.Context\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Button\nimport android.widget.ImageView\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.recyclerview.widget.GridLayoutManager\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.bumptech.glide.Glide\nimport com.bumptech.glide.load.engine.DiskCacheStrategy\nimport com.facebook.ads.*\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport com.google.gson.Gson\nimport com.synnapps.carouselview.CarouselView\nimport com.synnapps.carouselview.ImageClickListener\nimport com.synnapps.carouselview.ImageListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.base.BaseFragment\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.model.AllAppsModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Pref\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.MainActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.WebActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.home.AllAppsAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.home.TrendingAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.AllAppsItemClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.home.TrendingItemClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.HomeViewModel\nimport java.io.*\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n * Use the [FragmentHome.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FragmentHome : BaseFragment(), AllAppsItemClickListener<List<String>>,\n    TrendingItemClickListener<List<String>> {\n    // TODO: Rename and change types of parameters\n    private var param1: Int? = null\n    private var param2: String? = null\n\n    var carouselView: CarouselView? = null\n\n    var rvAllApps: RecyclerView? = null\n    var allAppsAdapter: AllAppsAdapter? = null\n    var homeViewModel: HomeViewModel? = null\n\n    var rvTrending: RecyclerView? = null\n    var trendingAdapter: TrendingAdapter? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    private var nativeAdFB1: NativeAd? = null\n    private var nativeAdFB2: NativeAd? = null\n    private var nativeAdLayout: NativeAdLayout? = null\n    private var adView: LinearLayout? = null\n\n    lateinit var search: ImageView\n\n    var carouselImagesList: ArrayList<List<String>>? = ArrayList()\n//\n//    var nativeAdHome1: UnifiedNativeAd? = null\n//    var nativeAdHome2: UnifiedNativeAd? = null\n\n    override val bindingVariable: Int\n        get() = 0\n    override val layoutId: Int\n        get() = 0\n    var bool: Boolean = false\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getInt(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        initViews(view)\n\n        firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n\n        setRecyclerView()\n\n        Pref.initializeInstance(context)\n\n        homeViewModel = ViewModelProvider(requireActivity()).get(HomeViewModel::class.java)\n\n        if(!Pref.instance!!.dataChanged!!){\n            val isAllAppsFilePresent: Boolean = isFilePresent(requireContext(), Constants().ALL_APPS_STORAGE_FILE_NAME)\n            if (isAllAppsFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isAllAppsFilePresent isFilePresent $isAllAppsFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().ALL_APPS_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isAllAppsFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                allAppsAdapter?.setItems(allAppsModel.getValues())\n            }\n\n            val isCarouselFilePresent: Boolean = isFilePresent(requireContext(), Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME)\n            if (isCarouselFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isCarouselFilePresent isFilePresent $isCarouselFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isCarouselFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                carouselImagesList!!.addAll(allAppsModel.getValues()!!)\n                onLoadCarouselImages()\n            }\n\n            val isTrendingFilePresent: Boolean = isFilePresent(requireContext(), Constants().TRENDING_STORAGE_FILE_NAME)\n            if (isTrendingFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isTrendingFilePresent isFilePresent $isTrendingFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().TRENDING_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isTrendingFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                trendingAdapter?.setItems(allAppsModel.getValues())\n            }\n        }\n        homeViewModel?.loadData()\n\n        homeViewModel!!.allAppsLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live allAppsLiveData$t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateAllAppsJsonFile(t)\n                allAppsAdapter?.setItems(t.getValues())\n            }\n        })\n\n        homeViewModel!!.carouselImagesLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live carousel $t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateCarouselJsonFile(t)\n                carouselImagesList!!.addAll(t.getValues()!!)\n                onLoadCarouselImages()\n            }\n        })\n\n        homeViewModel!!.trendingLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live trendingLiveData $t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateTrendingJsonFile(t)\n                trendingAdapter!!.setItems(t.getValues())\n            }\n        })\n\n\n        if (firebaseRemoteConfig!!.getBoolean(Constants().SHOW_ADS)) {\n            onLoadFBNativeAd1(view, requireContext())\n        }\n    }\n\n    fun initViews(view: View) {\n        firebaseAnalytics = FirebaseAnalytics.getInstance(requireActivity())\n        carouselView = view.findViewById(R.id.cvHome)\n        rvAllApps = view.findViewById(R.id.rvAllApps)\n        rvTrending = view.findViewById(R.id.rvTrending)\n    }\n\n    fun setRecyclerView() {\n        allAppsAdapter = AllAppsAdapter(context)\n        allAppsAdapter!!.setListener(this)\n        rvAllApps.apply {\n            rvAllApps?.layoutManager = GridLayoutManager(activity, 4)\n            rvAllApps?.adapter = allAppsAdapter\n        }\n\n        trendingAdapter = TrendingAdapter(context)\n        trendingAdapter!!.setListener(this)\n        rvTrending.apply {\n            rvTrending?.layoutManager = LinearLayoutManager(\n                activity,\n                LinearLayoutManager.HORIZONTAL,\n                false\n            )\n            rvTrending?.adapter = trendingAdapter\n        }\n\n    }\n\n    fun onLoadCarouselImages() {\n        Log.d(\"TAG\", \"onLoadCarouselImages: \" + carouselImagesList!!.size)\n\n        carouselView!!.setImageListener(imageListener)\n\n        carouselView!!.setImageClickListener(imageClickListener)\n\n        carouselView!!.pageCount = carouselImagesList!!.size\n\n    }\n\n    var imageClickListener: ImageClickListener = ImageClickListener { position ->\n        val intent: Intent? = Intent(activity, WebActivity::class.java)\n        intent?.putExtra(\"title\", carouselImagesList!![position][1])\n        intent?.putExtra(\"url\", carouselImagesList!![position][2])\n        intent?.putExtra(\"app_icon\", carouselImagesList!![position][4])\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", carouselImagesList!![position][1])\n        bundle.putString(\"url\", carouselImagesList!![position][2])\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"carousel_images_visited\", true)\n\n\n        startActivity(intent)\n    }\n\n\n    var imageListener: ImageListener = ImageListener { position, imageView ->\n        Log.d(\n            \"TAG\",\n            \"onLoadCarouselImages: position \" + position + \" data \" + carouselImagesList!![position][3]\n        )\n        Glide.with(imageView.context)\n            .load(carouselImagesList!![position][3])\n            .diskCacheStrategy(DiskCacheStrategy.ALL)\n            .into(imageView)\n    }\n\n    fun onLoadFBNativeAd1(view: View, context: Context) {\n        nativeAdFB1 = NativeAd(context, Constants().getFbNativeHome1())\n        val nativeAdListener: NativeAdListener = object : NativeAdListener {\n            override fun onError(p0: Ad?, p1: AdError?) {\n                Log.d(\"TAG\", \"onError: onLoadFBNativeAd1 \" + p1!!.errorMessage)\n            }\n\n            override fun onAdLoaded(ad: Ad?) {\n\n                // Race condition, load() called again before last ad was displayed\n                if (nativeAdFB1 == null || nativeAdFB1 !== ad) {\n                    return\n                }\n                // Inflate Native Ad into Container\n\n                // Add the Ad view into the ad container.\n                nativeAdLayout = view.findViewById(R.id.native_ad_container_home_1)\n                val inflater = LayoutInflater.from(context)\n                // Inflate the Ad view.  The layout referenced should be the one you created in the last step.\n                adView =\n                    inflater.inflate(\n                        R.layout.native_ad_layout,\n                        nativeAdLayout,\n                        false\n                    ) as LinearLayout\n                nativeAdLayout!!.addView(adView)\n\n                inflateAd(nativeAdFB1!!, adView!!)\n\n                val adChoicesContainer: LinearLayout = view.findViewById(R.id.ad_choices_container)\n                val adOptionsView = AdOptionsView(context, nativeAdFB1, nativeAdLayout)\n                adChoicesContainer.removeAllViews()\n                adChoicesContainer.addView(adOptionsView, 0)\n            }\n\n            override fun onAdClicked(p0: Ad?) {\n                Log.d(\"TAG\", \"onAdClicked: onLoadFBNativeAd1\")\n            }\n\n            override fun onLoggingImpression(p0: Ad?) {\n                Log.d(\"TAG\", \"onLoggingImpression: onLoadFBNativeAd1\")\n            }\n\n            override fun onMediaDownloaded(p0: Ad?) {\n                Log.d(\"TAG\", \"onMediaDownloaded: onLoadFBNativeAd1\")\n            }\n        }\n\n        nativeAdFB1!!.loadAd(\n            nativeAdFB1!!.buildLoadAdConfig()\n                .withAdListener(nativeAdListener)\n                .build()\n        );\n    }\n    private fun inflateAd(nativeAd: NativeAd, adView: LinearLayout) {\n        nativeAd.unregisterView()\n\n        // Add the AdOptionsView\n\n        // Create native UI using the ad metadata.\n        val nativeAdIcon: com.facebook.ads.MediaView = adView.findViewById(R.id.native_ad_icon)\n        val nativeAdTitle: TextView = adView.findViewById(R.id.native_ad_title)\n        val nativeAdMedia: com.facebook.ads.MediaView = adView.findViewById(R.id.native_ad_media)\n        val nativeAdSocialContext: TextView = adView.findViewById(R.id.native_ad_social_context)\n        val nativeAdBody: TextView = adView.findViewById(R.id.native_ad_body)\n        val sponsoredLabel: TextView = adView.findViewById(R.id.native_ad_sponsored_label)\n        val nativeAdCallToAction: Button = adView.findViewById(R.id.native_ad_call_to_action)\n\n        // Set the Text.\n        nativeAdTitle.text = nativeAd.advertiserName\n        nativeAdBody.text = nativeAd.adBodyText\n        nativeAdSocialContext.text = nativeAd.adSocialContext\n        nativeAdCallToAction.visibility =\n            if (nativeAd.hasCallToAction()) View.VISIBLE else View.INVISIBLE\n        nativeAdCallToAction.text = nativeAd.adCallToAction\n        sponsoredLabel.text = nativeAd.sponsoredTranslation\n\n        // Create a list of clickable views\n        val clickableViews: ArrayList<View> = ArrayList()\n        clickableViews.add(nativeAdTitle)\n        clickableViews.add(nativeAdCallToAction)\n\n        // Register the Title and CTA button to listen for clicks.\n        nativeAd.registerViewForInteraction(\n            adView, nativeAdMedia, nativeAdIcon, clickableViews\n        )\n    }\n\n    override fun onDestroy() {\n        homeViewModel?.reset()\n        Log.d(\"TAG\", \"onDestroy: \")\n        super.onDestroy()\n    }\n\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment FragmentHome.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: Int, param2: String) =\n            FragmentHome().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n\n    override fun onAllCardClick(item: List<String>) {\n        Log.d(\"TAG\", \"onAllCardClick: \" + item.get(1))\n\n        if (item[1] == \"Amazon\") {\n\n            if (bool == true) {\n                val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(item[2]))\n                startActivity(browserIntent)\n            } else {\n                val intent: Intent? = Intent(activity, WebActivity::class.java)\n                intent?.putExtra(\"title\", item.get(1))\n                intent?.putExtra(\"url\", item.get(2))\n                intent?.putExtra(\"app_icon\", item.get(3))\n                intent?.putExtra(\"color\", item.get(4))\n\n                startActivity(intent)\n            }\n        } else {\n            val intent: Intent = Intent(activity, WebActivity::class.java)\n            intent.putExtra(\"title\", item[1])\n            intent.putExtra(\"url\", item[2])\n            intent.putExtra(\"app_icon\", item[3])\n            intent.putExtra(\"color\", item[4])\n\n            startActivity(intent)\n        }\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", item.get(1))\n        bundle.putString(\"url\", item.get(2))\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"all_apps_visited\", true)\n\n    }\n\n    override fun onTrendingClickListener(item: List<String>) {\n        val intent: Intent? = Intent(activity, WebActivity::class.java)\n        intent?.putExtra(\"title\", item.get(1))\n        intent?.putExtra(\"url\", item.get(2))\n        intent?.putExtra(\"app_icon\", item.get(4))\n\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", item.get(1))\n        bundle.putString(\"url\", item.get(2))\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"trending_visited\", true)\n\n\n        startActivity(intent)\n    }\n\n    fun isFilePresent(context: Context, fileName: String): Boolean {\n        val path = context.filesDir.absolutePath + \"/\" + fileName\n        val file = File(path)\n        return file.exists()\n    }\n\n    fun read(context: Context, fileName: String?): AllAppsModel? {\n        var allAppsModel: AllAppsModel? = null\n        try {\n            val fileInputStream = context.openFileInput(fileName)\n            val objectInputStream = ObjectInputStream(fileInputStream)\n            allAppsModel = objectInputStream.readObject() as AllAppsModel\n            Log.d(\"TAG\", \"read: \" + Gson().toJson(allAppsModel))\n            objectInputStream.close()\n            fileInputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"read: exception \" + fileNotFoundException.localizedMessage)\n            fileNotFoundException.printStackTrace()\n        } catch (fileNotFoundException: ClassNotFoundException) {\n            Log.d(\"TAG\", \"read: exception \" + fileNotFoundException.localizedMessage)\n            fileNotFoundException.printStackTrace()\n        }\n        return allAppsModel\n    }\n\n    fun updateAllAppsJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().ALL_APPS_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: allApps exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n    fun updateCarouselJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: updateCarouselJsonFile exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n    fun updateTrendingJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().TRENDING_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: updateTrendingJsonFile exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt	(date 1622985933211)
@@ -231,6 +231,7 @@
 
 
     var imageListener: ImageListener = ImageListener { position, imageView ->
+        imageView.scaleType = ImageView.ScaleType.FIT_XY
         Log.d(
             "TAG",
             "onLoadCarouselImages: position " + position + " data " + carouselImagesList!![position][3]
Index: app/src/main/res/drawable/ic_baseline_bookmarks.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_baseline_bookmarks.xml	(date 1622998983834)
+++ app/src/main/res/drawable/ic_baseline_bookmarks.xml	(date 1622998983834)
@@ -0,0 +1,9 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="@color/black_75"
+      android:pathData="M19,18l2,1V3c0,-1.1 -0.9,-2 -2,-2H8.99C7.89,1 7,1.9 7,3h10c1.1,0 2,0.9 2,2v13zM15,5H5c-1.1,0 -2,0.9 -2,2v16l7,-3 7,3V7c0,-1.1 -0.9,-2 -2,-2z"/>
+</vector>
Index: app/src/main/res/layout/fragment_invest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".view.fragment.DealFragment\">\n\n    <!-- TODO: Update blank fragment layout -->\n    <WebView\n        android:id=\"@+id/webViewDeals\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:visibility=\"gone\"/>\n\n\n    <include\n        android:id=\"@+id/layoutShowVideo\"\n        layout=\"@layout/deals_video_rewarded_layout\"\n        />\n\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_invest.xml	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/res/layout/fragment_invest.xml	(date 1622994546491)
@@ -10,6 +10,7 @@
         android:id="@+id/webViewDeals"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
+        android:layout_marginTop="20dp"
         android:visibility="gone"/>
 
 
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view.fragment\n\nimport android.annotation.SuppressLint\nimport android.content.ContentValues.TAG\nimport android.content.Intent\nimport android.graphics.Rect\nimport android.os.Build\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.webkit.WebResourceRequest\nimport android.webkit.WebSettings\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport android.widget.Button\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.recyclerview.widget.GridLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport androidx.recyclerview.widget.RecyclerView.ItemDecoration\nimport com.facebook.ads.*\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.MainActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.WebActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.DealsAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.deals.CouponInfoClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.deals.DealClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.DealsViewModel\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n * Use the [DealFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass DealFragment : Fragment() {\n    // TODO: Rename and change types of parameters\n    private var param1: Int? = null\n    private var param2: String? = null\n\n    var rvInvest: RecyclerView? = null\n    var dealsAdapter: DealsAdapter? = null\n    var dealsViewModel: DealsViewModel? = null\n    var investDataList: ArrayList<List<String>>? = ArrayList()\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n    var btShowDeals: Button? = null\n    private var interstitialFbAd: InterstitialAd? = null\n    private var adView: AdView? = null\n    var layoutShowVideo: View? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getInt(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    var webViewDeals: WebView? = null\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_invest, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        initViews(view)\n\n        if (firebaseRemoteConfig == null) {\n            firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n        }\n        if (firebaseRemoteConfig!!.getBoolean(Constants().SHOW_ADS)) {\n            if (interstitialFbAd == null) {\n                getDisplayAdsLayout()\n                onLoadFbInterstitial()\n            }\n        } else {\n            getDisplayDeals()\n        }\n\n        webViewSettings(webViewDeals!!)\n        webViewDeals!!.loadUrl(firebaseRemoteConfig!!.getString(Constants().DEALS_URL))\n\n        btShowDeals!!.setOnClickListener {\n            if (interstitialFbAd!!.isAdLoaded) {\n                interstitialFbAd!!.show()\n            } else {\n                Toast.makeText(\n                    context,\n                    \"Congrats!! now you're able fetch fantastic stuff here!!\",\n                    Toast.LENGTH_SHORT\n                ).show()\n                getDisplayDeals()\n            }\n        }\n\n\n    }\n\n    fun initViews(view: View){\n        firebaseAnalytics = FirebaseAnalytics.getInstance(requireActivity())\n        layoutShowVideo = view.findViewById(R.id.layoutShowVideo)\n        btShowDeals = layoutShowVideo!!.findViewById(R.id.btShowDeals)\n        webViewDeals = view.findViewById(R.id.webViewDeals)\n    }\n\n    fun onLoadFbInterstitial() {\n        interstitialFbAd = InterstitialAd(context, Constants().getFbInterstitialWebExit())\n\n        val interstitialAdListener: InterstitialAdListener = object : InterstitialAdListener {\n            override fun onInterstitialDisplayed(ad: Ad) {\n                // Interstitial ad displayed callback\n                Log.e(\"TAG\", \"Interstitial ad displayed.\")\n            }\n\n            override fun onInterstitialDismissed(ad: Ad) {\n                // Interstitial dismissed callback\n                Log.e(\"TAG\", \"Interstitial ad dismissed.\")\n                getDisplayDeals()\n                Toast.makeText(\n                    context,\n                    \"Congrats!! now you're able fetch fantastic stuff here!!\",\n                    Toast.LENGTH_SHORT\n                ).show()\n            }\n\n            override fun onError(ad: Ad?, adError: AdError) {\n                // Ad error callback\n                Log.e(\"TAG\", \"Interstitial ad failed to load: \" + adError.getErrorMessage())\n            }\n\n            override fun onAdLoaded(ad: Ad) {\n                // Interstitial ad is loaded and ready to be displayed\n                Log.d(\"TAG\", \"Interstitial ad is loaded and ready to be displayed!\")\n                // Show the ad\n//                interstitialFbAd.show()\n            }\n\n            override fun onAdClicked(ad: Ad) {\n                // Ad clicked callback\n                Log.d(\"TAG\", \"Interstitial ad clicked!\")\n            }\n\n            override fun onLoggingImpression(ad: Ad) {\n                // Ad impression logged callback\n                Log.d(\"TAG\", \"Interstitial ad impression logged!\")\n            }\n        }\n\n        interstitialFbAd!!.loadAd(\n            interstitialFbAd!!.buildLoadAdConfig()\n                .withAdListener(interstitialAdListener)\n                .build()\n        );\n\n    }\n\n    fun getDisplayDeals() {\n        if (layoutShowVideo!!.visibility == View.VISIBLE) {\n            layoutShowVideo!!.visibility = View.GONE\n        }\n        if (webViewDeals!!.visibility == View.GONE) {\n            webViewDeals!!.visibility = View.VISIBLE\n        }\n    }\n\n    fun getDisplayAdsLayout() {\n        if (webViewDeals!!.visibility == View.VISIBLE) {\n            webViewDeals!!.visibility = View.GONE\n        }\n        if (layoutShowVideo!!.visibility == View.GONE) {\n            layoutShowVideo!!.visibility = View.VISIBLE\n        }\n    }\n\n    override fun onDestroy() {\n        dealsViewModel?.reset()\n        super.onDestroy()\n    }\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment InvestFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: Int, param2: String) =\n            DealFragment().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n\n    @SuppressLint(\"SetJavaScriptEnabled\")\n    fun webViewSettings(webView: WebView){\n        webView.settings.loadsImagesAutomatically = true\n        webView.settings.javaScriptEnabled = true\n        webView.settings.allowContentAccess = true\n        webView.evaluateJavascript(\"\\$(function() {\\n\" +\n                \"    var style = document.createElement('style');\\n\" +\n                \"    style.innerHTML = `\\n\" +\n                \"    .ShopNewBtn > img {\\n\" +\n                \"    display: none;\\n\" +\n                \"    }\\n\" +\n                \"    .original_price_p{\\n\" +\n                \"      color:red;\\n\" +\n                \"    }\\n\" +\n                \"    .ShopNewBtn{\\n\" +\n                \"      background-color: red;\\n\" +\n                \"    }\\n\" +\n                \"    .CuponMain{\\n\" +\n                \"      border: 1px solid red;\\n\" +\n                \"    }\\n\" +\n                \"    .button-colors-green{\\n\" +\n                \"      background-color:red;\\n\" +\n                \"      border: 1px solid red;\\n\" +\n                \"    }\\n\" +\n                \"    `;\\n\" +\n                \"    document.head.appendChild(style);\\n\" +\n                \"});\",null)\n        webView.settings.useWideViewPort = true\n        webView.settings.loadWithOverviewMode = true\n        webView.settings.domStorageEnabled = true\n        webView.clearView()\n        webView.isHorizontalScrollBarEnabled = false\n        webView.settings.setAppCacheEnabled(true)\n        webView.isVerticalScrollBarEnabled = false\n        webView.settings.builtInZoomControls = true\n        webView.settings.displayZoomControls = false\n        webView.settings.allowFileAccess = true\n        webView.settings.pluginState = WebSettings.PluginState.OFF\n        webView.isScrollbarFadingEnabled = false\n        webView.settings.cacheMode = WebSettings.LOAD_NO_CACHE\n        webView.settings.defaultZoom = WebSettings.ZoomDensity.FAR\n        webView.webViewClient = WebViewClient()\n        webView.settings.setRenderPriority(WebSettings.RenderPriority.HIGH)\n        webView.setInitialScale(1)\n\n        webView.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(\n                view: WebView,\n                request: WebResourceRequest\n            ): Boolean {\n                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n                    view.loadUrl(request.url.toString())\n                }\n                return false\n            }\n        }\n    }\n\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt	(revision 791c06f239a1ab8fc02d1fce8ed9adf96d513594)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt	(date 1622994329126)
@@ -220,28 +220,28 @@
         webView.settings.loadsImagesAutomatically = true
         webView.settings.javaScriptEnabled = true
         webView.settings.allowContentAccess = true
-        webView.evaluateJavascript("\$(function() {\n" +
-                "    var style = document.createElement('style');\n" +
-                "    style.innerHTML = `\n" +
-                "    .ShopNewBtn > img {\n" +
-                "    display: none;\n" +
-                "    }\n" +
-                "    .original_price_p{\n" +
-                "      color:red;\n" +
-                "    }\n" +
-                "    .ShopNewBtn{\n" +
-                "      background-color: red;\n" +
-                "    }\n" +
-                "    .CuponMain{\n" +
-                "      border: 1px solid red;\n" +
-                "    }\n" +
-                "    .button-colors-green{\n" +
-                "      background-color:red;\n" +
-                "      border: 1px solid red;\n" +
-                "    }\n" +
-                "    `;\n" +
-                "    document.head.appendChild(style);\n" +
-                "});",null)
+//        webView.evaluateJavascript("\$(function() {\n" +
+//                "    var style = document.createElement('style');\n" +
+//                "    style.innerHTML = `\n" +
+//                "    .ShopNewBtn > img {\n" +
+//                "    display: none;\n" +
+//                "    }\n" +
+//                "    .original_price_p{\n" +
+//                "      color:red;\n" +
+//                "    }\n" +
+//                "    .ShopNewBtn{\n" +
+//                "      background-color: red;\n" +
+//                "    }\n" +
+//                "    .CuponMain{\n" +
+//                "      border: 1px solid red;\n" +
+//                "    }\n" +
+//                "    .button-colors-green{\n" +
+//                "      background-color:red;\n" +
+//                "      border: 1px solid red;\n" +
+//                "    }\n" +
+//                "    `;\n" +
+//                "    document.head.appendChild(style);\n" +
+//                "});",null)
         webView.settings.useWideViewPort = true
         webView.settings.loadWithOverviewMode = true
         webView.settings.domStorageEnabled = true
@@ -261,6 +261,33 @@
         webView.setInitialScale(1)
 
         webView.webViewClient = object : WebViewClient() {
+
+            override fun onPageFinished(view: WebView?, url: String?) {
+                super.onPageFinished(view, url)
+                webView.loadUrl("javascript:\$(function() {\n" +
+                        "    var style = document.createElement('style');\n" +
+                        "    style.innerHTML = `\n" +
+                        "    .ShopNewBtn > img {\n" +
+                        "    display: none;\n" +
+                        "    }\n" +
+                        "    .original_price_p{\n" +
+                        "      color:#53b9fb;\n" +
+                        "    }\n" +
+                        "    .ShopNewBtn{\n" +
+                        "      background-color: #53b9fb;\n" +
+                        "    }\n" +
+                        "    .CuponMain{\n" +
+                        "      border: 1px solid #53b9fb;\n" +
+                        "    }\n" +
+                        "    .button-colors-green{\n" +
+                        "      background-color:#53b9fb;\n" +
+                        "      border: 1px solid #53b9fb;\n" +
+                        "    }\n" +
+                        "    `;\n" +
+                        "    document.head.appendChild(style);\n" +
+                        "});")
+            }
+
             override fun shouldOverrideUrlLoading(
                 view: WebView,
                 request: WebResourceRequest
