Index: app/src/main/res/layout/fragment_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white_25\"\n    tools:context=\".view.fragment.FragmentHome\">\n\n    <!-- TODO: Update blank fragment layout -->\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n\n        <com.synnapps.carouselview.CarouselView\n            android:id=\"@+id/cvHome\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"180dp\"\n            app:fillColor=\"@color/colorAccent\"\n            app:pageColor=\"#00000000\"\n            app:radius=\"4dp\"\n            app:slideInterval=\"3000\"\n            app:strokeColor=\"#FF777777\"\n            app:indicatorGravity=\"right|bottom\"\n            app:strokeWidth=\"1dp\"/>\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\">\n\n            <com.facebook.ads.NativeAdLayout\n                android:id=\"@+id/native_ad_container_home_1\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:layout_marginTop=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                />\n\n        </LinearLayout>\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/white\"\n            android:orientation=\"vertical\"\n            android:padding=\"10dp\">\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\">\n\n                <ImageView\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:src=\"@drawable/ic_grid\"\n                    app:tint=\"@color/colorPrimary\" />\n\n                <TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/top_trending\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:layout_marginStart=\"10dp\"\n                    android:textSize=\"16sp\"\n                    android:textColor=\"@color/black_75\"\n                    android:fontFamily=\"@font/montserrat_semibold\" />\n\n            </LinearLayout>\n\n            <androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/rvTrending\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:padding=\"10dp\"\n                android:layout_marginTop=\"5dp\"/>\n\n        </LinearLayout>\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\">\n\n            <FrameLayout\n                android:id=\"@+id/ad_frame_2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"12dp\"\n                android:layout_marginBottom=\"12dp\"/>\n\n        </LinearLayout>\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/white\"\n            android:padding=\"10dp\"\n            android:orientation=\"vertical\">\n\n            <RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <ImageView\n                    android:id=\"@+id/grid\"\n                    android:layout_width=\"30dp\"\n                    android:layout_height=\"30dp\"\n                    android:src=\"@drawable/ic_grid\"\n                    app:tint=\"@color/colorPrimary\" />\n\n                <TextView\n                    android:id=\"@+id/textapps\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/all_apps\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:layout_marginStart=\"10dp\"\n                    android:textSize=\"16sp\"\n                    android:layout_toRightOf=\"@+id/grid\"\n                    android:layout_centerVertical=\"true\"\n                    android:textColor=\"@color/black_75\"\n                    android:fontFamily=\"@font/montserrat_semibold\" />\n\n\n            </RelativeLayout>\n\n\n            <androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/rvAllApps\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:padding=\"10dp\"\n                android:layout_marginTop=\"5dp\"/>\n\n        </LinearLayout>\n    </LinearLayout>\n\n</androidx.core.widget.NestedScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_home.xml	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/res/layout/fragment_home.xml	(date 1622970861255)
@@ -18,7 +18,7 @@
         <com.synnapps.carouselview.CarouselView
             android:id="@+id/cvHome"
             android:layout_width="match_parent"
-            android:layout_height="180dp"
+            android:layout_height="160dp"
             app:fillColor="@color/colorAccent"
             app:pageColor="#00000000"
             app:radius="4dp"
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".view.MainActivity\">\n\n    <RelativeLayout\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:background=\"@color/colorPrimary\">\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:layout_centerInParent=\"true\"\n            android:text=\"@string/app_name\"\n            android:textColor=\"@color/white\"\n            android:textSize=\"18sp\"\n            android:textStyle=\"bold\" />\n\n        <ImageView\n            android:id=\"@+id/search\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:layout_marginStart=\"10dp\"\n            android:layout_marginEnd=\"5dp\"\n            android:background=\"@drawable/ic_search\"\n            android:backgroundTint=\"@color/white\"\n            android:clickable=\"true\"\n            android:focusable=\"true\" />\n\n        <ImageView\n            android:id=\"@+id/ivMenu\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:padding=\"10dp\"\n            android:src=\"@drawable/ic_add\"\n            app:tint=\"@color/white\" />\n\n\n    </RelativeLayout>\n\n\n\n    <com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/view_pager_tab\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"2\"\n        android:elevation=\"10dp\"\n        android:theme=\"@style/TabLayout_Theme\"\n        android:visibility=\"gone\"\n        app:tabBackground=\"@color/white\"\n        app:tabGravity=\"fill\"\n        app:tabIndicatorColor=\"@color/colorPrimary\"\n        app:tabMode=\"fixed\"\n        app:tabRippleColor=\"@color/colorPrimary\"\n        app:tabSelectedTextColor=\"@color/colorPrimary\"\n        app:tabTextAppearance=\"@style/tab_text\" />\n\n\n    <shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.CustomViewPager\n        android:id=\"@+id/vpPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/toolbar\">\n\n    </shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.CustomViewPager>\n\n    <github.com.st235.lib_expandablebottombar.ExpandableBottomBar\n        android:id=\"@+id/expandable_bottom_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_margin=\"20dp\"\n        app:exb_backgroundColor=\"@color/colorPrimary\"\n        app:exb_backgroundCornerRadius=\"30dp\"\n        app:exb_itemInactiveColor=\"#050505\"\n        app:exb_item_vertical_margin=\"8dp\"\n        app:exb_items=\"@menu/bottom_bar\" />\n\n\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/res/layout/activity_main.xml	(date 1622971012692)
@@ -81,7 +81,9 @@
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
-        android:layout_margin="20dp"
+        android:layout_marginStart="20dp"
+        android:layout_marginEnd="20dp"
+        android:layout_marginBottom="15dp"
         app:exb_backgroundColor="@color/colorPrimary"
         app:exb_backgroundCornerRadius="30dp"
         app:exb_itemInactiveColor="#050505"
Index: app/src/main/res/layout/dialog_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"20dp\">\n\n\n    <androidx.cardview.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"40dp\"\n        android:layout_marginTop=\"10dp\"\n        android:background=\"@color/white\"\n        app:cardCornerRadius=\"30sp\">\n\n        <EditText\n            android:id=\"@+id/app_search\"\n            android:drawableStart=\"@drawable/ic_search\"\n            android:paddingHorizontal=\"10dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/colorAccent\"\n            android:drawableLeft=\"@drawable/ic_search\" />\n\n\n    </androidx.cardview.widget.CardView>\n\n    <androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/search_rvCategoryStores\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"452dp\"\n        android:layout_marginTop=\"20dp\" />\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\">\n\n        <com.facebook.ads.NativeAdLayout\n            android:id=\"@+id/search_native_ad_container_dailog\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"12dp\"\n            android:layout_marginBottom=\"12dp\"\n            android:orientation=\"vertical\" />\n\n    </LinearLayout>\n\n\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/dialog_search.xml	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/res/layout/dialog_search.xml	(date 1622971352722)
@@ -17,6 +17,8 @@
         <EditText
             android:id="@+id/app_search"
             android:drawableStart="@drawable/ic_search"
+            android:drawableTint="@color/black_50"
+            android:textColor="@color/black_50"
             android:paddingHorizontal="10dp"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view.fragment\n\nimport android.content.Context\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Button\nimport android.widget.ImageView\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.recyclerview.widget.GridLayoutManager\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.bumptech.glide.Glide\nimport com.bumptech.glide.load.engine.DiskCacheStrategy\nimport com.facebook.ads.*\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport com.google.gson.Gson\nimport com.synnapps.carouselview.CarouselView\nimport com.synnapps.carouselview.ImageClickListener\nimport com.synnapps.carouselview.ImageListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.base.BaseFragment\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.model.AllAppsModel\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Pref\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.MainActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.WebActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.home.AllAppsAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.home.TrendingAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.AllAppsItemClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.home.TrendingItemClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.HomeViewModel\nimport java.io.*\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n * Use the [FragmentHome.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FragmentHome : BaseFragment(), AllAppsItemClickListener<List<String>>,\n    TrendingItemClickListener<List<String>> {\n    // TODO: Rename and change types of parameters\n    private var param1: Int? = null\n    private var param2: String? = null\n\n    var carouselView: CarouselView? = null\n\n    var rvAllApps: RecyclerView? = null\n    var allAppsAdapter: AllAppsAdapter? = null\n    var homeViewModel: HomeViewModel? = null\n\n    var rvTrending: RecyclerView? = null\n    var trendingAdapter: TrendingAdapter? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    private var nativeAdFB1: NativeAd? = null\n    private var nativeAdFB2: NativeAd? = null\n    private var nativeAdLayout: NativeAdLayout? = null\n    private var adView: LinearLayout? = null\n\n    lateinit var search: ImageView\n\n    var carouselImagesList: ArrayList<List<String>>? = ArrayList()\n//\n//    var nativeAdHome1: UnifiedNativeAd? = null\n//    var nativeAdHome2: UnifiedNativeAd? = null\n\n    override val bindingVariable: Int\n        get() = 0\n    override val layoutId: Int\n        get() = 0\n    var bool: Boolean = false\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getInt(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        initViews(view)\n\n        firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n\n        setRecyclerView()\n\n        Pref.initializeInstance(context)\n\n        homeViewModel = ViewModelProvider(requireActivity()).get(HomeViewModel::class.java)\n\n        if(!Pref.instance!!.dataChanged!!){\n            val isAllAppsFilePresent: Boolean = isFilePresent(requireContext(), Constants().ALL_APPS_STORAGE_FILE_NAME)\n            if (isAllAppsFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isAllAppsFilePresent isFilePresent $isAllAppsFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().ALL_APPS_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isAllAppsFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                allAppsAdapter?.setItems(allAppsModel.getValues())\n            }\n\n            val isCarouselFilePresent: Boolean = isFilePresent(requireContext(), Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME)\n            if (isCarouselFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isCarouselFilePresent isFilePresent $isCarouselFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isCarouselFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                carouselImagesList!!.addAll(allAppsModel.getValues()!!)\n                onLoadCarouselImages()\n            }\n\n            val isTrendingFilePresent: Boolean = isFilePresent(requireContext(), Constants().TRENDING_STORAGE_FILE_NAME)\n            if (isTrendingFilePresent) {\n                Log.d(\"TAG\", \"onChanged: isTrendingFilePresent isFilePresent $isTrendingFilePresent\")\n                val allAppsModel: AllAppsModel = read(requireContext(), Constants().TRENDING_STORAGE_FILE_NAME)!!\n                Log.d(\"TAG\", \"onChanged: isTrendingFilePresent jsonData \" + Gson().toJson(allAppsModel))\n                trendingAdapter?.setItems(allAppsModel.getValues())\n            }\n        }\n        homeViewModel?.loadData()\n\n        homeViewModel!!.allAppsLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live allAppsLiveData$t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateAllAppsJsonFile(t)\n                allAppsAdapter?.setItems(t.getValues())\n            }\n        })\n\n        homeViewModel!!.carouselImagesLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live carousel $t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateCarouselJsonFile(t)\n                carouselImagesList!!.addAll(t.getValues()!!)\n                onLoadCarouselImages()\n            }\n        })\n\n        homeViewModel!!.trendingLiveData.observe(viewLifecycleOwner, Observer { t ->\n            Log.d(\"TAG\", \"HomeFragment Live trendingLiveData $t\")\n            if(Pref.instance!!.dataChanged!!){\n                updateTrendingJsonFile(t)\n                trendingAdapter!!.setItems(t.getValues())\n            }\n        })\n\n\n        if (firebaseRemoteConfig!!.getBoolean(Constants().SHOW_ADS)) {\n            onLoadFBNativeAd1(view, requireContext())\n        }\n    }\n\n    fun initViews(view: View) {\n        firebaseAnalytics = FirebaseAnalytics.getInstance(requireActivity())\n        carouselView = view.findViewById(R.id.cvHome)\n        rvAllApps = view.findViewById(R.id.rvAllApps)\n        rvTrending = view.findViewById(R.id.rvTrending)\n    }\n\n    fun setRecyclerView() {\n        allAppsAdapter = AllAppsAdapter(context)\n        allAppsAdapter!!.setListener(this)\n        rvAllApps.apply {\n            rvAllApps?.layoutManager = GridLayoutManager(activity, 4)\n            rvAllApps?.adapter = allAppsAdapter\n        }\n\n        trendingAdapter = TrendingAdapter(context)\n        trendingAdapter!!.setListener(this)\n        rvTrending.apply {\n            rvTrending?.layoutManager = LinearLayoutManager(\n                activity,\n                LinearLayoutManager.HORIZONTAL,\n                false\n            )\n            rvTrending?.adapter = trendingAdapter\n        }\n\n    }\n\n    fun onLoadCarouselImages() {\n        Log.d(\"TAG\", \"onLoadCarouselImages: \" + carouselImagesList!!.size)\n\n        carouselView!!.setImageListener(imageListener)\n\n        carouselView!!.setImageClickListener(imageClickListener)\n\n        carouselView!!.pageCount = carouselImagesList!!.size\n\n    }\n\n    var imageClickListener: ImageClickListener = ImageClickListener { position ->\n        val intent: Intent? = Intent(activity, WebActivity::class.java)\n        intent?.putExtra(\"title\", carouselImagesList!![position][1])\n        intent?.putExtra(\"url\", carouselImagesList!![position][2])\n        intent?.putExtra(\"app_icon\", carouselImagesList!![position][4])\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", carouselImagesList!![position][1])\n        bundle.putString(\"url\", carouselImagesList!![position][2])\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"carousel_images_visited\", true)\n\n\n        startActivity(intent)\n    }\n\n\n    var imageListener: ImageListener = ImageListener { position, imageView ->\n        Log.d(\n            \"TAG\",\n            \"onLoadCarouselImages: position \" + position + \" data \" + carouselImagesList!![position][3]\n        )\n        Glide.with(imageView.context)\n            .load(carouselImagesList!![position][3])\n            .diskCacheStrategy(DiskCacheStrategy.ALL)\n            .into(imageView)\n    }\n\n    fun onLoadFBNativeAd1(view: View, context: Context) {\n        nativeAdFB1 = NativeAd(context, Constants().getFbNativeHome1())\n        val nativeAdListener: NativeAdListener = object : NativeAdListener {\n            override fun onError(p0: Ad?, p1: AdError?) {\n                Log.d(\"TAG\", \"onError: onLoadFBNativeAd1 \" + p1!!.errorMessage)\n            }\n\n            override fun onAdLoaded(ad: Ad?) {\n\n                // Race condition, load() called again before last ad was displayed\n                if (nativeAdFB1 == null || nativeAdFB1 !== ad) {\n                    return\n                }\n                // Inflate Native Ad into Container\n\n                // Add the Ad view into the ad container.\n                nativeAdLayout = view.findViewById(R.id.native_ad_container_home_1)\n                val inflater = LayoutInflater.from(context)\n                // Inflate the Ad view.  The layout referenced should be the one you created in the last step.\n                adView =\n                    inflater.inflate(\n                        R.layout.native_ad_layout,\n                        nativeAdLayout,\n                        false\n                    ) as LinearLayout\n                nativeAdLayout!!.addView(adView)\n\n                inflateAd(nativeAdFB1!!, adView!!)\n\n                val adChoicesContainer: LinearLayout = view.findViewById(R.id.ad_choices_container)\n                val adOptionsView = AdOptionsView(context, nativeAdFB1, nativeAdLayout)\n                adChoicesContainer.removeAllViews()\n                adChoicesContainer.addView(adOptionsView, 0)\n            }\n\n            override fun onAdClicked(p0: Ad?) {\n                Log.d(\"TAG\", \"onAdClicked: onLoadFBNativeAd1\")\n            }\n\n            override fun onLoggingImpression(p0: Ad?) {\n                Log.d(\"TAG\", \"onLoggingImpression: onLoadFBNativeAd1\")\n            }\n\n            override fun onMediaDownloaded(p0: Ad?) {\n                Log.d(\"TAG\", \"onMediaDownloaded: onLoadFBNativeAd1\")\n            }\n        }\n\n        nativeAdFB1!!.loadAd(\n            nativeAdFB1!!.buildLoadAdConfig()\n                .withAdListener(nativeAdListener)\n                .build()\n        );\n    }\n    private fun inflateAd(nativeAd: NativeAd, adView: LinearLayout) {\n        nativeAd.unregisterView()\n\n        // Add the AdOptionsView\n\n        // Create native UI using the ad metadata.\n        val nativeAdIcon: com.facebook.ads.MediaView = adView.findViewById(R.id.native_ad_icon)\n        val nativeAdTitle: TextView = adView.findViewById(R.id.native_ad_title)\n        val nativeAdMedia: com.facebook.ads.MediaView = adView.findViewById(R.id.native_ad_media)\n        val nativeAdSocialContext: TextView = adView.findViewById(R.id.native_ad_social_context)\n        val nativeAdBody: TextView = adView.findViewById(R.id.native_ad_body)\n        val sponsoredLabel: TextView = adView.findViewById(R.id.native_ad_sponsored_label)\n        val nativeAdCallToAction: Button = adView.findViewById(R.id.native_ad_call_to_action)\n\n        // Set the Text.\n        nativeAdTitle.text = nativeAd.advertiserName\n        nativeAdBody.text = nativeAd.adBodyText\n        nativeAdSocialContext.text = nativeAd.adSocialContext\n        nativeAdCallToAction.visibility =\n            if (nativeAd.hasCallToAction()) View.VISIBLE else View.INVISIBLE\n        nativeAdCallToAction.text = nativeAd.adCallToAction\n        sponsoredLabel.text = nativeAd.sponsoredTranslation\n\n        // Create a list of clickable views\n        val clickableViews: ArrayList<View> = ArrayList()\n        clickableViews.add(nativeAdTitle)\n        clickableViews.add(nativeAdCallToAction)\n\n        // Register the Title and CTA button to listen for clicks.\n        nativeAd.registerViewForInteraction(\n            adView, nativeAdMedia, nativeAdIcon, clickableViews\n        )\n    }\n\n    override fun onDestroy() {\n        homeViewModel?.reset()\n        Log.d(\"TAG\", \"onDestroy: \")\n        super.onDestroy()\n    }\n\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment FragmentHome.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: Int, param2: String) =\n            FragmentHome().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n\n    override fun onAllCardClick(item: List<String>) {\n        Log.d(\"TAG\", \"onAllCardClick: \" + item.get(1))\n\n        if (item[1] == \"Amazon\") {\n\n            if (bool == true) {\n                val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(item[2]))\n                startActivity(browserIntent)\n            } else {\n                val intent: Intent? = Intent(activity, WebActivity::class.java)\n                intent?.putExtra(\"title\", item.get(1))\n                intent?.putExtra(\"url\", item.get(2))\n                intent?.putExtra(\"app_icon\", item.get(3))\n                intent?.putExtra(\"color\", item.get(4))\n\n                startActivity(intent)\n            }\n        } else {\n            val intent: Intent = Intent(activity, WebActivity::class.java)\n            intent.putExtra(\"title\", item[1])\n            intent.putExtra(\"url\", item[2])\n            intent.putExtra(\"app_icon\", item[3])\n            intent.putExtra(\"color\", item[4])\n\n            startActivity(intent)\n        }\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", item.get(1))\n        bundle.putString(\"url\", item.get(2))\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"all_apps_visited\", true)\n\n    }\n\n    override fun onTrendingClickListener(item: List<String>) {\n        val intent: Intent? = Intent(activity, WebActivity::class.java)\n        intent?.putExtra(\"title\", item.get(1))\n        intent?.putExtra(\"url\", item.get(2))\n        intent?.putExtra(\"app_icon\", item.get(4))\n\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", item.get(1))\n        bundle.putString(\"url\", item.get(2))\n\n        (activity as MainActivity?)!!.onUpdateLogEvent(bundle, \"trending_visited\", true)\n\n\n        startActivity(intent)\n    }\n\n    fun isFilePresent(context: Context, fileName: String): Boolean {\n        val path = context.filesDir.absolutePath + \"/\" + fileName\n        val file = File(path)\n        return file.exists()\n    }\n\n    fun read(context: Context, fileName: String?): AllAppsModel? {\n        var allAppsModel: AllAppsModel? = null\n        try {\n            val fileInputStream = context.openFileInput(fileName)\n            val objectInputStream = ObjectInputStream(fileInputStream)\n            allAppsModel = objectInputStream.readObject() as AllAppsModel\n            Log.d(\"TAG\", \"read: \" + Gson().toJson(allAppsModel))\n            objectInputStream.close()\n            fileInputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"read: exception \" + fileNotFoundException.localizedMessage)\n            fileNotFoundException.printStackTrace()\n        } catch (fileNotFoundException: ClassNotFoundException) {\n            Log.d(\"TAG\", \"read: exception \" + fileNotFoundException.localizedMessage)\n            fileNotFoundException.printStackTrace()\n        }\n        return allAppsModel\n    }\n\n    fun updateAllAppsJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().ALL_APPS_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: allApps exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n    fun updateCarouselJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().CAROUSEL_VIEW_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: updateCarouselJsonFile exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n    fun updateTrendingJsonFile(allAppsModel: AllAppsModel?) {\n        var fileOutputStream: FileOutputStream? = null\n        try {\n            fileOutputStream =\n                requireContext().openFileOutput(Constants().TRENDING_STORAGE_FILE_NAME, Context.MODE_PRIVATE)\n            val objectOutputStream = ObjectOutputStream(fileOutputStream)\n            objectOutputStream.flush()\n            objectOutputStream.writeObject(allAppsModel)\n            objectOutputStream.close()\n            fileOutputStream.close()\n        } catch (fileNotFoundException: IOException) {\n            Log.d(\"TAG\", \"accept: updateTrendingJsonFile exception \" + fileNotFoundException.message)\n            fileNotFoundException.printStackTrace()\n        }\n    }\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/HomeFragment.kt	(date 1622970776577)
@@ -231,6 +231,7 @@
 
 
     var imageListener: ImageListener = ImageListener { position, imageView ->
+        imageView.scaleType = ImageView.ScaleType.FIT_XY
         Log.d(
             "TAG",
             "onLoadCarouselImages: position " + position + " data " + carouselImagesList!![position][3]
Index: app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package shopping.grocery.medicine.online.deals.coupons.compare.buy.view.fragment\n\nimport android.annotation.SuppressLint\nimport android.content.ContentValues.TAG\nimport android.content.Intent\nimport android.graphics.Rect\nimport android.os.Build\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.webkit.WebResourceRequest\nimport android.webkit.WebSettings\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport android.widget.Button\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.recyclerview.widget.GridLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport androidx.recyclerview.widget.RecyclerView.ItemDecoration\nimport com.facebook.ads.*\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.remoteconfig.FirebaseRemoteConfig\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.R\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.utils.Constants\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.MainActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.WebActivity\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.adapter.DealsAdapter\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.deals.CouponInfoClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.view.listener.deals.DealClickListener\nimport shopping.grocery.medicine.online.deals.coupons.compare.buy.viewmodel.DealsViewModel\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n * Use the [DealFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass DealFragment : Fragment() {\n    // TODO: Rename and change types of parameters\n    private var param1: Int? = null\n    private var param2: String? = null\n\n    var rvInvest: RecyclerView? = null\n    var dealsAdapter: DealsAdapter? = null\n    var dealsViewModel: DealsViewModel? = null\n    var investDataList: ArrayList<List<String>>? = ArrayList()\n    var firebaseAnalytics: FirebaseAnalytics? = null\n\n    var firebaseRemoteConfig: FirebaseRemoteConfig? = null\n    var btShowDeals: Button? = null\n    private var interstitialFbAd: InterstitialAd? = null\n    private var adView: AdView? = null\n    var layoutShowVideo: View? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getInt(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    var webViewDeals: WebView? = null\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_invest, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        initViews(view)\n\n        if (firebaseRemoteConfig == null) {\n            firebaseRemoteConfig = FirebaseRemoteConfig.getInstance()\n        }\n        if (firebaseRemoteConfig!!.getBoolean(Constants().SHOW_ADS)) {\n            if (interstitialFbAd == null) {\n                getDisplayAdsLayout()\n                onLoadFbInterstitial()\n            }\n        } else {\n            getDisplayDeals()\n        }\n\n        webViewSettings(webViewDeals!!)\n        webViewDeals!!.loadUrl(firebaseRemoteConfig!!.getString(Constants().DEALS_URL))\n\n        btShowDeals!!.setOnClickListener {\n            if (interstitialFbAd!!.isAdLoaded) {\n                interstitialFbAd!!.show()\n            } else {\n                Toast.makeText(\n                    context,\n                    \"Congrats!! now you're able fetch fantastic stuff here!!\",\n                    Toast.LENGTH_SHORT\n                ).show()\n                getDisplayDeals()\n            }\n        }\n\n\n    }\n\n    fun initViews(view: View){\n        firebaseAnalytics = FirebaseAnalytics.getInstance(requireActivity())\n        layoutShowVideo = view.findViewById(R.id.layoutShowVideo)\n        btShowDeals = layoutShowVideo!!.findViewById(R.id.btShowDeals)\n        webViewDeals = view.findViewById(R.id.webViewDeals)\n    }\n\n    fun onLoadFbInterstitial() {\n        interstitialFbAd = InterstitialAd(context, Constants().getFbInterstitialWebExit())\n\n        val interstitialAdListener: InterstitialAdListener = object : InterstitialAdListener {\n            override fun onInterstitialDisplayed(ad: Ad) {\n                // Interstitial ad displayed callback\n                Log.e(\"TAG\", \"Interstitial ad displayed.\")\n            }\n\n            override fun onInterstitialDismissed(ad: Ad) {\n                // Interstitial dismissed callback\n                Log.e(\"TAG\", \"Interstitial ad dismissed.\")\n                getDisplayDeals()\n                Toast.makeText(\n                    context,\n                    \"Congrats!! now you're able fetch fantastic stuff here!!\",\n                    Toast.LENGTH_SHORT\n                ).show()\n            }\n\n            override fun onError(ad: Ad?, adError: AdError) {\n                // Ad error callback\n                Log.e(\"TAG\", \"Interstitial ad failed to load: \" + adError.getErrorMessage())\n            }\n\n            override fun onAdLoaded(ad: Ad) {\n                // Interstitial ad is loaded and ready to be displayed\n                Log.d(\"TAG\", \"Interstitial ad is loaded and ready to be displayed!\")\n                // Show the ad\n//                interstitialFbAd.show()\n            }\n\n            override fun onAdClicked(ad: Ad) {\n                // Ad clicked callback\n                Log.d(\"TAG\", \"Interstitial ad clicked!\")\n            }\n\n            override fun onLoggingImpression(ad: Ad) {\n                // Ad impression logged callback\n                Log.d(\"TAG\", \"Interstitial ad impression logged!\")\n            }\n        }\n\n        interstitialFbAd!!.loadAd(\n            interstitialFbAd!!.buildLoadAdConfig()\n                .withAdListener(interstitialAdListener)\n                .build()\n        );\n\n    }\n\n    fun getDisplayDeals() {\n        if (layoutShowVideo!!.visibility == View.VISIBLE) {\n            layoutShowVideo!!.visibility = View.GONE\n        }\n        if (webViewDeals!!.visibility == View.GONE) {\n            webViewDeals!!.visibility = View.VISIBLE\n        }\n    }\n\n    fun getDisplayAdsLayout() {\n        if (webViewDeals!!.visibility == View.VISIBLE) {\n            webViewDeals!!.visibility = View.GONE\n        }\n        if (layoutShowVideo!!.visibility == View.GONE) {\n            layoutShowVideo!!.visibility = View.VISIBLE\n        }\n    }\n\n    override fun onDestroy() {\n        dealsViewModel?.reset()\n        super.onDestroy()\n    }\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment InvestFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: Int, param2: String) =\n            DealFragment().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n\n    @SuppressLint(\"SetJavaScriptEnabled\")\n    fun webViewSettings(webView: WebView){\n        webView.settings.loadsImagesAutomatically = true\n        webView.settings.javaScriptEnabled = true\n        webView.settings.allowContentAccess = true\n        webView.evaluateJavascript(\"\\$(function() {\\n\" +\n                \"    var style = document.createElement('style');\\n\" +\n                \"    style.innerHTML = `\\n\" +\n                \"    .ShopNewBtn > img {\\n\" +\n                \"    display: none;\\n\" +\n                \"    }\\n\" +\n                \"    .original_price_p{\\n\" +\n                \"      color:red;\\n\" +\n                \"    }\\n\" +\n                \"    .ShopNewBtn{\\n\" +\n                \"      background-color: red;\\n\" +\n                \"    }\\n\" +\n                \"    .CuponMain{\\n\" +\n                \"      border: 1px solid red;\\n\" +\n                \"    }\\n\" +\n                \"    .button-colors-green{\\n\" +\n                \"      background-color:red;\\n\" +\n                \"      border: 1px solid red;\\n\" +\n                \"    }\\n\" +\n                \"    `;\\n\" +\n                \"    document.head.appendChild(style);\\n\" +\n                \"});\",null)\n        webView.settings.useWideViewPort = true\n        webView.settings.loadWithOverviewMode = true\n        webView.settings.domStorageEnabled = true\n        webView.clearView()\n        webView.isHorizontalScrollBarEnabled = false\n        webView.settings.setAppCacheEnabled(true)\n        webView.isVerticalScrollBarEnabled = false\n        webView.settings.builtInZoomControls = true\n        webView.settings.displayZoomControls = false\n        webView.settings.allowFileAccess = true\n        webView.settings.pluginState = WebSettings.PluginState.OFF\n        webView.isScrollbarFadingEnabled = false\n        webView.settings.cacheMode = WebSettings.LOAD_NO_CACHE\n        webView.settings.defaultZoom = WebSettings.ZoomDensity.FAR\n        webView.webViewClient = WebViewClient()\n        webView.settings.setRenderPriority(WebSettings.RenderPriority.HIGH)\n        webView.setInitialScale(1)\n\n        webView.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(\n                view: WebView,\n                request: WebResourceRequest\n            ): Boolean {\n                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n                    view.loadUrl(request.url.toString())\n                }\n                return false\n            }\n        }\n    }\n\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/java/shopping/grocery/medicine/online/deals/coupons/compare/buy/view/fragment/DealFragment.kt	(date 1622977012679)
@@ -220,47 +220,74 @@
         webView.settings.loadsImagesAutomatically = true
         webView.settings.javaScriptEnabled = true
         webView.settings.allowContentAccess = true
-        webView.evaluateJavascript("\$(function() {\n" +
-                "    var style = document.createElement('style');\n" +
-                "    style.innerHTML = `\n" +
-                "    .ShopNewBtn > img {\n" +
-                "    display: none;\n" +
-                "    }\n" +
-                "    .original_price_p{\n" +
-                "      color:red;\n" +
-                "    }\n" +
-                "    .ShopNewBtn{\n" +
-                "      background-color: red;\n" +
-                "    }\n" +
-                "    .CuponMain{\n" +
-                "      border: 1px solid red;\n" +
-                "    }\n" +
-                "    .button-colors-green{\n" +
-                "      background-color:red;\n" +
-                "      border: 1px solid red;\n" +
-                "    }\n" +
-                "    `;\n" +
-                "    document.head.appendChild(style);\n" +
-                "});",null)
-        webView.settings.useWideViewPort = true
-        webView.settings.loadWithOverviewMode = true
-        webView.settings.domStorageEnabled = true
-        webView.clearView()
-        webView.isHorizontalScrollBarEnabled = false
-        webView.settings.setAppCacheEnabled(true)
-        webView.isVerticalScrollBarEnabled = false
-        webView.settings.builtInZoomControls = true
-        webView.settings.displayZoomControls = false
-        webView.settings.allowFileAccess = true
-        webView.settings.pluginState = WebSettings.PluginState.OFF
-        webView.isScrollbarFadingEnabled = false
-        webView.settings.cacheMode = WebSettings.LOAD_NO_CACHE
-        webView.settings.defaultZoom = WebSettings.ZoomDensity.FAR
-        webView.webViewClient = WebViewClient()
-        webView.settings.setRenderPriority(WebSettings.RenderPriority.HIGH)
-        webView.setInitialScale(1)
+//        webView.evaluateJavascript("\$(function() {\n" +
+//                "    var style = document.createElement('style');\n" +
+//                "    style.innerHTML = `\n" +
+//                "    .ShopNewBtn > img {\n" +
+//                "    display: none;\n" +
+//                "    }\n" +
+//                "    .original_price_p{\n" +
+//                "      color:red;\n" +
+//                "    }\n" +
+//                "    .ShopNewBtn{\n" +
+//                "      background-color: red;\n" +
+//                "    }\n" +
+//                "    .CuponMain{\n" +
+//                "      border: 1px solid red;\n" +
+//                "    }\n" +
+//                "    .button-colors-green{\n" +
+//                "      background-color:red;\n" +
+//                "      border: 1px solid red;\n" +
+//                "    }\n" +
+//                "    `;\n" +
+//                "    document.head.appendChild(style);\n" +
+//                "});",null)
+        webView.settings.useWideViewPort = true
+        webView.settings.loadWithOverviewMode = true
+        webView.settings.domStorageEnabled = true
+        webView.clearView()
+        webView.isHorizontalScrollBarEnabled = false
+        webView.settings.setAppCacheEnabled(true)
+        webView.isVerticalScrollBarEnabled = false
+        webView.settings.builtInZoomControls = true
+        webView.settings.displayZoomControls = false
+        webView.settings.allowFileAccess = true
+        webView.settings.pluginState = WebSettings.PluginState.OFF
+        webView.isScrollbarFadingEnabled = false
+        webView.settings.cacheMode = WebSettings.LOAD_NO_CACHE
+        webView.settings.defaultZoom = WebSettings.ZoomDensity.FAR
+        webView.webViewClient = WebViewClient()
+        webView.settings.setRenderPriority(WebSettings.RenderPriority.HIGH)
+        webView.setInitialScale(1)
+
+        webView.webViewClient = object : WebViewClient() {
+
+            override fun onPageFinished(view: WebView?, url: String?) {
+                super.onPageFinished(view, url)
+                webView.loadUrl("javascript:\$(function() {\n" +
+                        "    var style = document.createElement('style');\n" +
+                        "    style.innerHTML = `\n" +
+                        "    .ShopNewBtn > img {\n" +
+                        "    display: none;\n" +
+                        "    }\n" +
+                        "    .original_price_p{\n" +
+                        "      color:red;\n" +
+                        "    }\n" +
+                        "    .ShopNewBtn{\n" +
+                        "      background-color: red;\n" +
+                        "    }\n" +
+                        "    .CuponMain{\n" +
+                        "      border: 1px solid red;\n" +
+                        "    }\n" +
+                        "    .button-colors-green{\n" +
+                        "      background-color:red;\n" +
+                        "      border: 1px solid red;\n" +
+                        "    }\n" +
+                        "    `;\n" +
+                        "    document.head.appendChild(style);\n" +
+                        "});")
+            }
 
-        webView.webViewClient = object : WebViewClient() {
             override fun shouldOverrideUrlLoading(
                 view: WebView,
                 request: WebResourceRequest
Index: app/src/main/res/drawable/bookmark_bg.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" >\n    <gradient\n        android:type=\"linear\"\n        android:startColor=\"@color/colorPrimary\"\n        android:centerColor=\"#12D8FA\"\n        android:endColor=\"#A6FFCB\"\n        android:angle=\"45\"\n        />\n    <size android:height=\"400dp\"\n        android:width=\"250dp\"/>\n</shape>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/bookmark_bg.xml	(revision 7ba0224fd6f23395601b775e805c3f33b4bc5f29)
+++ app/src/main/res/drawable/bookmark_bg.xml	(date 1622970149513)
@@ -4,7 +4,7 @@
         android:startColor="@color/colorPrimary"
         android:centerColor="#12D8FA"
         android:endColor="#A6FFCB"
-        android:angle="45"
+        android:angle="36"
         />
     <size android:height="400dp"
         android:width="250dp"/>
